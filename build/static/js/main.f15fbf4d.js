/*! For license information please see main.f15fbf4d.js.LICENSE.txt */
(()=>{var t={536:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,c=32,l=64,h=128,f=256,d=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",f]],v="[object Arguments]",w="[object Array]",_="[object Boolean]",b="[object Date]",E="[object Error]",T="[object Function]",S="[object GeneratorFunction]",C="[object Map]",I="[object Number]",A="[object Object]",x="[object Promise]",D="[object RegExp]",k="[object Set]",R="[object String]",N="[object Symbol]",O="[object WeakMap]",L="[object ArrayBuffer]",P="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",V="[object Int16Array]",U="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]",K=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(Q.source),Y=RegExp($.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Tt=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",It="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Dt="\\ufe0e\\ufe0f",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rt="['\u2019]",Nt="["+St+"]",Ot="["+kt+"]",Lt="["+Ct+"]",Pt="\\d+",Mt="["+It+"]",jt="["+At+"]",Ft="[^"+St+kt+Pt+It+At+xt+"]",Vt="\\ud83c[\\udffb-\\udfff]",Ut="[^"+St+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+xt+"]",Ht="\\u200d",Kt="(?:"+jt+"|"+Ft+")",Gt="(?:"+qt+"|"+Ft+")",Wt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$t="(?:"+Lt+"|"+Vt+")"+"?",Xt="["+Dt+"]?",Yt=Xt+$t+("(?:"+Ht+"(?:"+[Ut,Bt,zt].join("|")+")"+Xt+$t+")*"),Jt="(?:"+[Mt,Bt,zt].join("|")+")"+Yt,Zt="(?:"+[Ut+Lt+"?",Lt,Bt,zt,Nt].join("|")+")",te=RegExp(Rt,"g"),ee=RegExp(Lt,"g"),ne=RegExp(Vt+"(?="+Vt+")|"+Zt+Yt,"g"),re=RegExp([qt+"?"+jt+"+"+Wt+"(?="+[Ot,qt,"$"].join("|")+")",Gt+"+"+Qt+"(?="+[Ot,qt+Kt,"$"].join("|")+")",qt+"?"+Kt+"+"+Wt,qt+"+"+Qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pt,Jt].join("|"),"g"),ie=RegExp("["+Ht+St+Ct+Dt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,ue={};ue[M]=ue[j]=ue[F]=ue[V]=ue[U]=ue[B]=ue[z]=ue[q]=ue[H]=!0,ue[v]=ue[w]=ue[L]=ue[_]=ue[P]=ue[b]=ue[E]=ue[T]=ue[C]=ue[I]=ue[A]=ue[D]=ue[k]=ue[R]=ue[O]=!1;var ce={};ce[v]=ce[w]=ce[L]=ce[P]=ce[_]=ce[b]=ce[M]=ce[j]=ce[F]=ce[V]=ce[U]=ce[C]=ce[I]=ce[A]=ce[D]=ce[k]=ce[R]=ce[N]=ce[B]=ce[z]=ce[q]=ce[H]=!0,ce[E]=ce[T]=ce[O]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,fe=parseInt,de="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=de||pe||Function("return this")(),me=e&&!e.nodeType&&e,ye=me&&t&&!t.nodeType&&t,ve=ye&&ye.exports===me,we=ve&&de.process,_e=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||we&&we.binding&&we.binding("util")}catch(e){}}(),be=_e&&_e.isArrayBuffer,Ee=_e&&_e.isDate,Te=_e&&_e.isMap,Se=_e&&_e.isRegExp,Ce=_e&&_e.isSet,Ie=_e&&_e.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xe(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function De(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Re(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ne(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Oe(t,e){return!!(null==t?0:t.length)&&qe(t,e,0)>-1}function Le(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function je(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Fe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ue=We("length");function Be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ze(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function qe(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ze(t,Ke,n)}function He(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ke(t){return t!==t}function Ge(t,e){var n=null==t?0:t.length;return n?Xe(t,e)/n:g}function We(t){return function(e){return null==e?i:e[t]}}function Qe(t){return function(e){return null==t?i:t[e]}}function $e(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Xe(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,mn(t)+1).replace(st,""):t}function Ze(t){return function(e){return t(e)}}function tn(t,e){return Pe(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&qe(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&qe(e,t[n],0)>-1;);return n}var on=Qe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+le[t]}function un(t){return ie.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ln(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ue(t)}function gn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function mn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var yn=Qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n=(e=null==e?ge:vn.defaults(ge.Object(),e,vn.pick(ge,se))).Array,r=e.Date,at=e.Error,St=e.Function,Ct=e.Math,It=e.Object,At=e.RegExp,xt=e.String,Dt=e.TypeError,kt=n.prototype,Rt=St.prototype,Nt=It.prototype,Ot=e["__core-js_shared__"],Lt=Rt.toString,Pt=Nt.hasOwnProperty,Mt=0,jt=function(){var t=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=Nt.toString,Vt=Lt.call(It),Ut=ge._,Bt=At("^"+Lt.call(Pt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ve?e.Buffer:i,qt=e.Symbol,Ht=e.Uint8Array,Kt=zt?zt.allocUnsafe:i,Gt=ln(It.getPrototypeOf,It),Wt=It.create,Qt=Nt.propertyIsEnumerable,$t=kt.splice,Xt=qt?qt.isConcatSpreadable:i,Yt=qt?qt.iterator:i,Jt=qt?qt.toStringTag:i,Zt=function(){try{var t=ho(It,"defineProperty");return t({},"",{}),t}catch(e){}}(),ne=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ie=r&&r.now!==ge.Date.now&&r.now,le=e.setTimeout!==ge.setTimeout&&e.setTimeout,de=Ct.ceil,pe=Ct.floor,me=It.getOwnPropertySymbols,ye=zt?zt.isBuffer:i,we=e.isFinite,_e=kt.join,Ue=ln(It.keys,It),Qe=Ct.max,wn=Ct.min,_n=r.now,bn=e.parseInt,En=Ct.random,Tn=kt.reverse,Sn=ho(e,"DataView"),Cn=ho(e,"Map"),In=ho(e,"Promise"),An=ho(e,"Set"),xn=ho(e,"WeakMap"),Dn=ho(It,"create"),kn=xn&&new xn,Rn={},Nn=Fo(Sn),On=Fo(Cn),Ln=Fo(In),Pn=Fo(An),Mn=Fo(xn),jn=qt?qt.prototype:i,Fn=jn?jn.valueOf:i,Vn=jn?jn.toString:i;function Un(t){if(ea(t)&&!Hs(t)&&!(t instanceof Hn)){if(t instanceof qn)return t;if(Pt.call(t,"__wrapped__"))return Vo(t)}return new qn(t)}var Bn=function(){function t(){}return function(e){if(!ta(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function zn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Wn;++e<n;)this.add(t[e])}function $n(t){var e=this.__data__=new Gn(t);this.size=e.size}function Xn(t,e){var n=Hs(t),r=!n&&qs(t),i=!n&&!r&&Qs(t),o=!n&&!r&&!i&&ca(t),s=n||r||i||o,a=s?Ye(t.length,xt):[],u=a.length;for(var c in t)!e&&!Pt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,u))||a.push(c);return a}function Yn(t){var e=t.length;return e?t[Qr(0,e-1)]:i}function Jn(t,e){return Po(Di(t),ar(e,0,t.length))}function Zn(t){return Po(Di(t))}function tr(t,e,n){(n!==i&&!Us(t[e],n)||n===i&&!(e in t))&&or(t,e,n)}function er(t,e,n){var r=t[e];Pt.call(t,e)&&Us(r,n)&&(n!==i||e in t)||or(t,e,n)}function nr(t,e){for(var n=t.length;n--;)if(Us(t[n][0],e))return n;return-1}function rr(t,e,n,r){return fr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function ir(t,e){return t&&ki(e,Ra(e),t)}function or(t,e,n){"__proto__"==e&&Zt?Zt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Ia(t,e[r]);return s}function ar(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ur(t,e,n,r,o,s){var a,u=1&e,c=2&e,l=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ta(t))return t;var h=Hs(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Di(t,a)}else{var f=go(t),d=f==T||f==S;if(Qs(t))return Ti(t,u);if(f==A||f==v||d&&!o){if(a=c||d?{}:yo(t),!u)return c?function(t,e){return ki(t,po(t),e)}(t,function(t,e){return t&&ki(e,Na(e),t)}(a,t)):function(t,e){return ki(t,fo(t),e)}(t,ir(a,t))}else{if(!ce[f])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case L:return Si(t);case _:case b:return new r(+t);case P:return function(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case M:case j:case F:case V:case U:case B:case z:case q:case H:return Ci(t,n);case C:return new r;case I:case R:return new r(t);case D:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case k:return new r;case N:return i=t,Fn?It(Fn.call(i)):{}}var i}(t,f,u)}}s||(s=new $n);var p=s.get(t);if(p)return p;s.set(t,a),sa(t)?t.forEach((function(r){a.add(ur(r,e,n,r,t,s))})):na(t)&&t.forEach((function(r,i){a.set(i,ur(r,e,n,i,t,s))}));var g=h?i:(l?c?io:ro:c?Na:Ra)(t);return De(g||t,(function(r,i){g&&(r=t[i=r]),er(a,i,ur(r,e,n,i,t,s))})),a}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=It(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Dt(o);return Ro((function(){t.apply(i,n)}),e)}function hr(t,e,n,r){var i=-1,o=Oe,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=Pe(e,Ze(n))),r?(o=Le,s=!1):e.length>=200&&(o=en,s=!1,e=new Qn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h===h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}Un.templateSettings={escape:J,evaluate:Z,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,qn.prototype=Bn(zn.prototype),qn.prototype.constructor=qn,Hn.prototype=Bn(zn.prototype),Hn.prototype.constructor=Hn,Kn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Kn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Kn.prototype.get=function(t){var e=this.__data__;if(Dn){var n=e[t];return n===s?i:n}return Pt.call(e,t)?e[t]:i},Kn.prototype.has=function(t){var e=this.__data__;return Dn?e[t]!==i:Pt.call(e,t)},Kn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dn&&e===i?s:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=nr(e,t);return!(n<0)&&(n==e.length-1?e.pop():$t.call(e,n,1),--this.size,!0)},Gn.prototype.get=function(t){var e=this.__data__,n=nr(e,t);return n<0?i:e[n][1]},Gn.prototype.has=function(t){return nr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=nr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(Cn||Gn),string:new Kn}},Wn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Wn.prototype.get=function(t){return co(this,t).get(t)},Wn.prototype.has=function(t){return co(this,t).has(t)},Wn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,s),this},Qn.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.clear=function(){this.__data__=new Gn,this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$n.prototype.get=function(t){return this.__data__.get(t)},$n.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Cn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(t,e),this.size=n.size,this};var fr=Oi(_r),dr=Oi(br,!0);function pr(t,e){var n=!0;return fr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a===a&&!ua(a):n(a,u)))var u=a,c=s}return c}function mr(t,e){var n=[];return fr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?yr(a,e-1,n,r,i):Me(i,a):r||(i[i.length]=a)}return i}var vr=Li(),wr=Li(!0);function _r(t,e){return t&&vr(t,e,Ra)}function br(t,e){return t&&wr(t,e,Ra)}function Er(t,e){return Ne(e,(function(e){return Ys(t[e])}))}function Tr(t,e){for(var n=0,r=(e=wi(e,t)).length;null!=t&&n<r;)t=t[jo(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Hs(t)?r:Me(r,n(t))}function Cr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Jt&&Jt in It(t)?function(t){var e=Pt.call(t,Jt),n=t[Jt];try{t[Jt]=i;var r=!0}catch(s){}var o=Ft.call(t);r&&(e?t[Jt]=n:delete t[Jt]);return o}(t):function(t){return Ft.call(t)}(t)}function Ir(t,e){return t>e}function Ar(t,e){return null!=t&&Pt.call(t,e)}function xr(t,e){return null!=t&&e in It(t)}function Dr(t,e,r){for(var o=r?Le:Oe,s=t[0].length,a=t.length,u=a,c=n(a),l=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Pe(f,Ze(e))),l=wn(f.length,l),c[u]=!r&&(e||s>=120&&f.length>=120)?new Qn(u&&f):i}f=t[0];var d=-1,p=c[0];t:for(;++d<s&&h.length<l;){var g=f[d],m=e?e(g):g;if(g=r||0!==g?g:0,!(p?en(p,m):o(h,m,r))){for(u=a;--u;){var y=c[u];if(!(y?en(y,m):o(t[u],m,r)))continue t}p&&p.push(m),h.push(g)}}return h}function kr(t,e,n){var r=null==(t=xo(t,e=wi(e,t)))?t:t[jo(Xo(e))];return null==r?i:Ae(r,t,n)}function Rr(t){return ea(t)&&Cr(t)==v}function Nr(t,e,n,r,o){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:function(t,e,n,r,o,s){var a=Hs(t),u=Hs(e),c=a?w:go(t),l=u?w:go(e),h=(c=c==v?A:c)==A,f=(l=l==v?A:l)==A,d=c==l;if(d&&Qs(t)){if(!Qs(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new $n),a||ca(t)?eo(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case _:case b:case I:return Us(+t,+e);case E:return t.name==e.name&&t.message==e.message;case D:case R:return t==e+"";case C:var a=cn;case k:var u=1&r;if(a||(a=fn),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=eo(a(t),a(e),r,i,o,s);return s.delete(t),l;case N:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,c,n,r,o,s);if(!(1&n)){var p=h&&Pt.call(t,"__wrapped__"),g=f&&Pt.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return s||(s=new $n),o(m,y,n,r,s)}}if(!d)return!1;return s||(s=new $n),function(t,e,n,r,o,s){var a=1&n,u=ro(t),c=u.length,l=ro(e),h=l.length;if(c!=h&&!a)return!1;var f=c;for(;f--;){var d=u[f];if(!(a?d in e:Pt.call(e,d)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);var y=a;for(;++f<c;){var v=t[d=u[f]],w=e[d];if(r)var _=a?r(w,v,d,e,t,s):r(v,w,d,t,e,s);if(!(_===i?v===w||o(v,w,n,r,s):_)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var b=t.constructor,E=e.constructor;b==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(t),s.delete(e),m}(t,e,n,r,o,s)}(t,e,n,r,Nr,o))}function Or(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=It(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=n[o])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===i&&!(c in t))return!1}else{var f=new $n;if(r)var d=r(l,h,c,t,e,f);if(!(d===i?Nr(h,l,3,r,f):d))return!1}}return!0}function Lr(t){return!(!ta(t)||(e=t,jt&&jt in e))&&(Ys(t)?Bt:vt).test(Fo(t));var e}function Pr(t){return"function"==typeof t?t:null==t?ru:"object"==typeof t?Hs(t)?Br(t[0],t[1]):Ur(t):fu(t)}function Mr(t){if(!So(t))return Ue(t);var e=[];for(var n in It(t))Pt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t){if(!ta(t))return function(t){var e=[];if(null!=t)for(var n in It(t))e.push(n);return e}(t);var e=So(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Vr(t,e){var r=-1,i=Gs(t)?n(t.length):[];return fr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Ur(t){var e=lo(t);return 1==e.length&&e[0][2]?Io(e[0][0],e[0][1]):function(n){return n===t||Or(n,t,e)}}function Br(t,e){return bo(t)&&Co(e)?Io(jo(t),e):function(n){var r=Ia(n,t);return r===i&&r===e?Aa(n,t):Nr(e,r,3)}}function zr(t,e,n,r,o){t!==e&&vr(e,(function(s,a){if(o||(o=new $n),ta(s))!function(t,e,n,r,o,s,a){var u=Do(t,n),c=Do(e,n),l=a.get(c);if(l)return void tr(t,n,l);var h=s?s(u,c,n+"",t,e,a):i,f=h===i;if(f){var d=Hs(c),p=!d&&Qs(c),g=!d&&!p&&ca(c);h=c,d||p||g?Hs(u)?h=u:Ws(u)?h=Di(u):p?(f=!1,h=Ti(c,!0)):g?(f=!1,h=Ci(c,!0)):h=[]:ia(c)||qs(c)?(h=u,qs(u)?h=ya(u):ta(u)&&!Ys(u)||(h=yo(c))):f=!1}f&&(a.set(c,h),o(h,c,r,s,a),a.delete(c));tr(t,n,h)}(t,e,a,n,zr,r,o);else{var u=r?r(Do(t,a),s,a+"",t,e,o):i;u===i&&(u=s),tr(t,a,u)}}),Na)}function qr(t,e){var n=t.length;if(n)return wo(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?Pe(e,(function(t){return Hs(t)?function(e){return Tr(e,1===t.length?t[0]:t)}:t})):[ru];var r=-1;e=Pe(e,Ze(uo()));var i=Vr(t,(function(t,n,i){var o=Pe(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var u=Ii(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Kr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Tr(t,s);n(a,s)&&Zr(o,wi(s,t),a)}return o}function Gr(t,e,n,r){var i=r?He:qe,o=-1,s=e.length,a=t;for(t===e&&(e=Di(e)),n&&(a=Pe(t,Ze(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&$t.call(a,u,1),$t.call(t,u,1);return t}function Wr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;wo(i)?$t.call(t,i,1):hi(t,i)}}return t}function Qr(t,e){return t+pe(En()*(e-t+1))}function $r(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=pe(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return No(Ao(t,e,ru),t+"")}function Yr(t){return Yn(Ua(t))}function Jr(t,e){var n=Ua(t);return Po(n,ar(e,0,n.length))}function Zr(t,e,n,r){if(!ta(t))return t;for(var o=-1,s=(e=wi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=jo(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=ta(h)?h:wo(e[o+1])?[]:{})}er(u,c,l),u=u[c]}return t}var ti=kn?function(t,e){return kn.set(t,e),t}:ru,ei=Zt?function(t,e){return Zt(t,"toString",{configurable:!0,enumerable:!1,value:tu(e),writable:!0})}:ru;function ni(t){return Po(Ua(t))}function ri(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function ii(t,e){var n;return fr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!ua(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return si(t,e,ru,n)}function si(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!==e,u=null===e,c=ua(e),l=e===i;o<s;){var h=pe((o+s)/2),f=n(t[h]),d=f!==i,p=null===f,g=f===f,m=ua(f);if(a)var y=r||g;else y=l?g&&(r||d):u?g&&d&&(r||!p):c?g&&d&&!p&&(r||!m):!p&&!m&&(r?f<=e:f<e);y?o=h+1:s=h}return wn(s,4294967294)}function ai(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Us(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ui(t){return"number"==typeof t?t:ua(t)?g:+t}function ci(t){if("string"==typeof t)return t;if(Hs(t))return Pe(t,ci)+"";if(ua(t))return Vn?Vn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,n){var r=-1,i=Oe,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Le;else if(o>=200){var c=e?null:$i(t);if(c)return fn(c);s=!1,i=en,u=new Qn}else u=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function hi(t,e){return null==(t=xo(t,e=wi(e,t)))||delete t[jo(Xo(e))]}function fi(t,e,n,r){return Zr(t,e,n(Tr(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ri(t,r?0:o,r?o+1:i):ri(t,r?o+1:0,r?i:o)}function pi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),je(e,(function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))}),n)}function gi(t,e,r){var i=t.length;if(i<2)return i?li(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=hr(s[o]||a,t[u],e,r));return li(yr(s,1),e,r)}function mi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function yi(t){return Ws(t)?t:[]}function vi(t){return"function"==typeof t?t:ru}function wi(t,e){return Hs(t)?t:bo(t,e)?[t]:Mo(va(t))}var _i=Xr;function bi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ri(t,e,n)}var Ei=ne||function(t){return ge.clearTimeout(t)};function Ti(t,e){if(e)return t.slice();var n=t.length,r=Kt?Kt(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ci(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ii(t,e){if(t!==e){var n=t!==i,r=null===t,o=t===t,s=ua(t),a=e!==i,u=null===e,c=e===e,l=ua(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Ai(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,c=e.length,l=Qe(s-a,0),h=n(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[r[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function xi(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,c=-1,l=e.length,h=Qe(s-u,0),f=n(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(d||o<s)&&(f[p+r[a]]=t[o++]);return f}function Di(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function ki(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?or(n,u,c):er(n,u,c)}return n}function Ri(t,e){return function(n,r){var i=Hs(n)?xe:rr,o=e?e():{};return i(n,t,uo(r,2),o)}}function Ni(t){return Xr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&_o(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=It(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e}))}function Oi(t,e){return function(n,r){if(null==n)return n;if(!Gs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=It(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Li(t){return function(e,n,r){for(var i=-1,o=It(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Pi(t){return function(e){var n=un(e=va(e))?gn(e):i,r=n?n[0]:e.charAt(0),o=n?bi(n,1).join(""):e.slice(1);return r[t]()+o}}function Mi(t){return function(e){return je(Ya(qa(e).replace(te,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Bn(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function Fi(t){return function(e,n,r){var o=It(e);if(!Gs(e)){var s=uo(n,3);e=Ra(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Vi(t){return no((function(e){var n=e.length,r=n,s=qn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Dt(o);if(s&&!u&&"wrapper"==so(a))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var c=so(a=e[r]),l="wrapper"==c?oo(a):i;u=l&&Eo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==a.length&&Eo(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Hs(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ui(t,e,r,o,s,a,u,c,l,f){var d=e&h,p=1&e,g=2&e,m=24&e,y=512&e,v=g?i:ji(t);return function h(){for(var w=arguments.length,_=n(w),b=w;b--;)_[b]=arguments[b];if(m)var E=ao(h),T=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,E);if(o&&(_=Ai(_,o,s,m)),a&&(_=xi(_,a,u,m)),w-=T,m&&w<f){var S=hn(_,E);return Wi(t,e,Ui,h.placeholder,r,_,S,c,l,f-w)}var C=p?r:this,I=g?C[t]:t;return w=_.length,c?_=function(t,e){var n=t.length,r=wn(e.length,n),o=Di(t);for(;r--;){var s=e[r];t[r]=wo(s,n)?o[s]:i}return t}(_,c):y&&w>1&&_.reverse(),d&&l<w&&(_.length=l),this&&this!==ge&&this instanceof h&&(I=v||ji(I)),I.apply(C,_)}}function Bi(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function zi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),o=t(n,r)}return o}}function qi(t){return no((function(e){return e=Pe(e,Ze(uo())),Xr((function(n){var r=this;return t(e,(function(t){return Ae(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===i?" ":ci(e)).length;if(n<2)return n?$r(e,t):e;var r=$r(e,de(t/pn(e)));return un(e)?bi(gn(r),0,t).join(""):r.slice(0,t)}function Ki(t){return function(e,r,o){return o&&"number"!=typeof o&&_o(e,r,o)&&(r=o=i),e=da(e),r===i?(r=e,e=0):r=da(r),function(t,e,r,i){for(var o=-1,s=Qe(de((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:da(o),t)}}function Gi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Wi(t,e,n,r,o,s,a,u,h,f){var d=8&e;e|=d?c:l,4&(e&=~(d?l:c))||(e&=-4);var p=[t,e,o,d?s:i,d?a:i,d?i:s,d?i:a,u,h,f],g=n.apply(i,p);return Eo(t)&&ko(g,p),g.placeholder=r,Oo(g,t,e)}function Qi(t){var e=Ct[t];return function(t,n){if(t=ma(t),(n=null==n?0:wn(pa(n),292))&&we(t)){var r=(va(t)+"e").split("e");return+((r=(va(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $i=An&&1/fn(new An([,-0]))[1]==d?function(t){return new An(t)}:uu;function Xi(t){return function(e){var n=go(e);return n==C?cn(e):n==k?dn(e):function(t,e){return Pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,r,s,d,p,g,m){var y=2&e;if(!y&&"function"!=typeof t)throw new Dt(o);var v=s?s.length:0;if(v||(e&=-97,s=d=i),g=g===i?g:Qe(pa(g),0),m=m===i?m:pa(m),v-=d?d.length:0,e&l){var w=s,_=d;s=d=i}var b=y?i:oo(t),E=[t,e,r,s,d,w,_,p,g,m];if(b&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==h&&8==n||r==h&&n==f&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ai(c,u,e[4]):u,t[4]=c?hn(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?xi(c,u,e[6]):u,t[6]=c?hn(t[5],a):e[6]);(u=e[7])&&(t[7]=u);r&h&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(E,b),t=E[0],e=E[1],r=E[2],s=E[3],d=E[4],!(m=E[9]=E[9]===i?y?0:t.length:Qe(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)T=8==e||e==u?function(t,e,r){var o=ji(t);return function s(){for(var a=arguments.length,u=n(a),c=a,l=ao(s);c--;)u[c]=arguments[c];var h=a<3&&u[0]!==l&&u[a-1]!==l?[]:hn(u,l);return(a-=h.length)<r?Wi(t,e,Ui,s.placeholder,i,u,h,i,i,r-a):Ae(this&&this!==ge&&this instanceof s?o:t,this,u)}}(t,e,m):e!=c&&33!=e||d.length?Ui.apply(i,E):function(t,e,r,i){var o=1&e,s=ji(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=n(l+u),f=this&&this!==ge&&this instanceof e?s:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return Ae(f,o?r:this,h)}}(t,e,r,s);else var T=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Oo((b?ti:ko)(T,E),t,e)}function Ji(t,e,n,r){return t===i||Us(t,Nt[n])&&!Pt.call(r,n)?e:t}function Zi(t,e,n,r,o,s){return ta(t)&&ta(e)&&(s.set(e,t),zr(t,e,i,Zi,s),s.delete(e)),t}function to(t){return ia(t)?i:t}function eo(t,e,n,r,o,s){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var f=-1,d=!0,p=2&n?new Qn:i;for(s.set(t,e),s.set(e,t);++f<u;){var g=t[f],m=e[f];if(r)var y=a?r(m,g,f,e,t,s):r(g,m,f,t,e,s);if(y!==i){if(y)continue;d=!1;break}if(p){if(!Ve(e,(function(t,e){if(!en(p,e)&&(g===t||o(g,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function no(t){return No(Ao(t,i,Ko),t+"")}function ro(t){return Sr(t,Ra,fo)}function io(t){return Sr(t,Na,po)}var oo=kn?function(t){return kn.get(t)}:uu;function so(t){for(var e=t.name+"",n=Rn[e],r=Pt.call(Rn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ao(t){return(Pt.call(Un,"placeholder")?Un:t).placeholder}function uo(){var t=Un.iteratee||iu;return t=t===iu?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function lo(t){for(var e=Ra(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Co(i)]}return e}function ho(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Lr(n)?n:i}var fo=me?function(t){return null==t?[]:(t=It(t),Ne(me(t),(function(e){return Qt.call(t,e)})))}:gu,po=me?function(t){for(var e=[];t;)Me(e,fo(t)),t=Gt(t);return e}:gu,go=Cr;function mo(t,e,n){for(var r=-1,i=(e=wi(e,t)).length,o=!1;++r<i;){var s=jo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Zs(i)&&wo(s,i)&&(Hs(t)||qs(t))}function yo(t){return"function"!=typeof t.constructor||So(t)?{}:Bn(Gt(t))}function vo(t){return Hs(t)||qs(t)||!!(Xt&&t&&t[Xt])}function wo(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Gs(n)&&wo(e,n.length):"string"==r&&e in n)&&Us(n[e],t)}function bo(t,e){if(Hs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ua(t))||(nt.test(t)||!et.test(t)||null!=e&&t in It(e))}function Eo(t){var e=so(t),n=Un[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=oo(n);return!!r&&t===r[0]}(Sn&&go(new Sn(new ArrayBuffer(1)))!=P||Cn&&go(new Cn)!=C||In&&go(In.resolve())!=x||An&&go(new An)!=k||xn&&go(new xn)!=O)&&(go=function(t){var e=Cr(t),n=e==A?t.constructor:i,r=n?Fo(n):"";if(r)switch(r){case Nn:return P;case On:return C;case Ln:return x;case Pn:return k;case Mn:return O}return e});var To=Ot?Ys:mu;function So(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)}function Co(t){return t===t&&!ta(t)}function Io(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in It(n)))}}function Ao(t,e,r){return e=Qe(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Qe(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Ae(t,this,u)}}function xo(t,e){return e.length<2?t:Tr(t,ri(e,0,-1))}function Do(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var ko=Lo(ti),Ro=le||function(t,e){return ge.setTimeout(t,e)},No=Lo(ei);function Oo(t,e,n){var r=e+"";return No(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return De(y,(function(n){var r="_."+n[0];e&n[1]&&!Oe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(lt):[]}(r),n)))}function Lo(t){var e=0,n=0;return function(){var r=_n(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Po(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Qr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Mo=function(t){var e=Ls(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)})),e}));function jo(t){if("string"==typeof t||ua(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fo(t){if(null!=t){try{return Lt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Vo(t){if(t instanceof Hn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=Di(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Xr((function(t,e){return Ws(t)?hr(t,yr(e,1,Ws,!0)):[]})),Bo=Xr((function(t,e){var n=Xo(e);return Ws(n)&&(n=i),Ws(t)?hr(t,yr(e,1,Ws,!0),uo(n,2)):[]})),zo=Xr((function(t,e){var n=Xo(e);return Ws(n)&&(n=i),Ws(t)?hr(t,yr(e,1,Ws,!0),i,n):[]}));function qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qe(r+i,0)),ze(t,uo(e,3),i)}function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?Qe(r+o,0):wn(o,r-1)),ze(t,uo(e,3),o,!0)}function Ko(t){return(null==t?0:t.length)?yr(t,1):[]}function Go(t){return t&&t.length?t[0]:i}var Wo=Xr((function(t){var e=Pe(t,yi);return e.length&&e[0]===t[0]?Dr(e):[]})),Qo=Xr((function(t){var e=Xo(t),n=Pe(t,yi);return e===Xo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Dr(n,uo(e,2)):[]})),$o=Xr((function(t){var e=Xo(t),n=Pe(t,yi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Dr(n,i,e):[]}));function Xo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Yo=Xr(Jo);function Jo(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var Zo=no((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Wr(t,Pe(e,(function(t){return wo(t,n)?+t:t})).sort(Ii)),r}));function ts(t){return null==t?t:Tn.call(t)}var es=Xr((function(t){return li(yr(t,1,Ws,!0))})),ns=Xr((function(t){var e=Xo(t);return Ws(e)&&(e=i),li(yr(t,1,Ws,!0),uo(e,2))})),rs=Xr((function(t){var e=Xo(t);return e="function"==typeof e?e:i,li(yr(t,1,Ws,!0),i,e)}));function is(t){if(!t||!t.length)return[];var e=0;return t=Ne(t,(function(t){if(Ws(t))return e=Qe(t.length,e),!0})),Ye(e,(function(e){return Pe(t,We(e))}))}function os(t,e){if(!t||!t.length)return[];var n=is(t);return null==e?n:Pe(n,(function(t){return Ae(e,i,t)}))}var ss=Xr((function(t,e){return Ws(t)?hr(t,e):[]})),as=Xr((function(t){return gi(Ne(t,Ws))})),us=Xr((function(t){var e=Xo(t);return Ws(e)&&(e=i),gi(Ne(t,Ws),uo(e,2))})),cs=Xr((function(t){var e=Xo(t);return e="function"==typeof e?e:i,gi(Ne(t,Ws),i,e)})),ls=Xr(is);var hs=Xr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,os(t,n)}));function fs(t){var e=Un(t);return e.__chain__=!0,e}function ds(t,e){return e(t)}var ps=no((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&wo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var gs=Ri((function(t,e,n){Pt.call(t,n)?++t[n]:or(t,n,1)}));var ms=Fi(qo),ys=Fi(Ho);function vs(t,e){return(Hs(t)?De:fr)(t,uo(e,3))}function ws(t,e){return(Hs(t)?ke:dr)(t,uo(e,3))}var _s=Ri((function(t,e,n){Pt.call(t,n)?t[n].push(e):or(t,n,[e])}));var bs=Xr((function(t,e,r){var i=-1,o="function"==typeof e,s=Gs(t)?n(t.length):[];return fr(t,(function(t){s[++i]=o?Ae(e,t,r):kr(t,e,r)})),s})),Es=Ri((function(t,e,n){or(t,n,e)}));function Ts(t,e){return(Hs(t)?Pe:Vr)(t,uo(e,3))}var Ss=Ri((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Cs=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_o(t,e[0],e[1])?e=[]:n>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,yr(e,1),[])})),Is=ie||function(){return ge.Date.now()};function As(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Yi(t,h,i,i,i,i,e)}function xs(t,e){var n;if("function"!=typeof e)throw new Dt(o);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ds=Xr((function(t,e,n){var r=1;if(n.length){var i=hn(n,ao(Ds));r|=c}return Yi(t,r,e,n,i)})),ks=Xr((function(t,e,n){var r=3;if(n.length){var i=hn(n,ao(ks));r|=c}return Yi(e,r,t,n,i)}));function Rs(t,e,n){var r,s,a,u,c,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new Dt(o);function g(e){var n=r,o=s;return r=s=i,h=e,u=t.apply(o,n)}function m(t){var n=t-l;return l===i||n>=e||n<0||d&&t-h>=a}function y(){var t=Is();if(m(t))return v(t);c=Ro(y,function(t){var n=e-(t-l);return d?wn(n,a-(t-h)):n}(t))}function v(t){return c=i,p&&r?g(t):(r=s=i,u)}function w(){var t=Is(),n=m(t);if(r=arguments,s=this,l=t,n){if(c===i)return function(t){return h=t,c=Ro(y,e),f?g(t):u}(l);if(d)return Ei(c),c=Ro(y,e),g(l)}return c===i&&(c=Ro(y,e)),u}return e=ma(e)||0,ta(n)&&(f=!!n.leading,a=(d="maxWait"in n)?Qe(ma(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){c!==i&&Ei(c),h=0,r=l=s=c=i},w.flush=function(){return c===i?u:v(Is())},w}var Ns=Xr((function(t,e){return lr(t,1,e)})),Os=Xr((function(t,e,n){return lr(t,ma(e)||0,n)}));function Ls(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Dt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ls.Cache||Wn),n}function Ps(t){if("function"!=typeof t)throw new Dt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ls.Cache=Wn;var Ms=_i((function(t,e){var n=(e=1==e.length&&Hs(e[0])?Pe(e[0],Ze(uo())):Pe(yr(e,1),Ze(uo()))).length;return Xr((function(r){for(var i=-1,o=wn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ae(t,this,r)}))})),js=Xr((function(t,e){var n=hn(e,ao(js));return Yi(t,c,i,e,n)})),Fs=Xr((function(t,e){var n=hn(e,ao(Fs));return Yi(t,l,i,e,n)})),Vs=no((function(t,e){return Yi(t,f,i,i,i,e)}));function Us(t,e){return t===e||t!==t&&e!==e}var Bs=Gi(Ir),zs=Gi((function(t,e){return t>=e})),qs=Rr(function(){return arguments}())?Rr:function(t){return ea(t)&&Pt.call(t,"callee")&&!Qt.call(t,"callee")},Hs=n.isArray,Ks=be?Ze(be):function(t){return ea(t)&&Cr(t)==L};function Gs(t){return null!=t&&Zs(t.length)&&!Ys(t)}function Ws(t){return ea(t)&&Gs(t)}var Qs=ye||mu,$s=Ee?Ze(Ee):function(t){return ea(t)&&Cr(t)==b};function Xs(t){if(!ea(t))return!1;var e=Cr(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ia(t)}function Ys(t){if(!ta(t))return!1;var e=Cr(t);return e==T||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Js(t){return"number"==typeof t&&t==pa(t)}function Zs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}var na=Te?Ze(Te):function(t){return ea(t)&&go(t)==C};function ra(t){return"number"==typeof t||ea(t)&&Cr(t)==I}function ia(t){if(!ea(t)||Cr(t)!=A)return!1;var e=Gt(t);if(null===e)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Lt.call(n)==Vt}var oa=Se?Ze(Se):function(t){return ea(t)&&Cr(t)==D};var sa=Ce?Ze(Ce):function(t){return ea(t)&&go(t)==k};function aa(t){return"string"==typeof t||!Hs(t)&&ea(t)&&Cr(t)==R}function ua(t){return"symbol"==typeof t||ea(t)&&Cr(t)==N}var ca=Ie?Ze(Ie):function(t){return ea(t)&&Zs(t.length)&&!!ue[Cr(t)]};var la=Gi(Fr),ha=Gi((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(Gs(t))return aa(t)?gn(t):Di(t);if(Yt&&t[Yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Yt]());var e=go(t);return(e==C?cn:e==k?fn:Ua)(t)}function da(t){return t?(t=ma(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function pa(t){var e=da(t),n=e%1;return e===e?n?e-n:e:0}function ga(t){return t?ar(pa(t),0,m):0}function ma(t){if("number"==typeof t)return t;if(ua(t))return g;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=yt.test(t);return n||wt.test(t)?fe(t.slice(2),n?2:8):mt.test(t)?g:+t}function ya(t){return ki(t,Na(t))}function va(t){return null==t?"":ci(t)}var wa=Ni((function(t,e){if(So(e)||Gs(e))ki(e,Ra(e),t);else for(var n in e)Pt.call(e,n)&&er(t,n,e[n])})),_a=Ni((function(t,e){ki(e,Na(e),t)})),ba=Ni((function(t,e,n,r){ki(e,Na(e),t,r)})),Ea=Ni((function(t,e,n,r){ki(e,Ra(e),t,r)})),Ta=no(sr);var Sa=Xr((function(t,e){t=It(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Na(s),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===i||Us(h,Nt[l])&&!Pt.call(t,l))&&(t[l]=s[l])}return t})),Ca=Xr((function(t){return t.push(i,Zi),Ae(La,i,t)}));function Ia(t,e,n){var r=null==t?i:Tr(t,e);return r===i?n:r}function Aa(t,e){return null!=t&&mo(t,e,xr)}var xa=Bi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),tu(ru)),Da=Bi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Pt.call(t,e)?t[e].push(n):t[e]=[n]}),uo),ka=Xr(kr);function Ra(t){return Gs(t)?Xn(t):Mr(t)}function Na(t){return Gs(t)?Xn(t,!0):jr(t)}var Oa=Ni((function(t,e,n){zr(t,e,n)})),La=Ni((function(t,e,n,r){zr(t,e,n,r)})),Pa=no((function(t,e){var n={};if(null==t)return n;var r=!1;e=Pe(e,(function(e){return e=wi(e,t),r||(r=e.length>1),e})),ki(t,io(t),n),r&&(n=ur(n,7,to));for(var i=e.length;i--;)hi(n,e[i]);return n}));var Ma=no((function(t,e){return null==t?{}:function(t,e){return Kr(t,e,(function(e,n){return Aa(t,n)}))}(t,e)}));function ja(t,e){if(null==t)return{};var n=Pe(io(t),(function(t){return[t]}));return e=uo(e),Kr(t,n,(function(t,n){return e(t,n[0])}))}var Fa=Xi(Ra),Va=Xi(Na);function Ua(t){return null==t?[]:tn(t,Ra(t))}var Ba=Mi((function(t,e,n){return e=e.toLowerCase(),t+(n?za(e):e)}));function za(t){return Xa(va(t).toLowerCase())}function qa(t){return(t=va(t))&&t.replace(bt,on).replace(ee,"")}var Ha=Mi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ka=Mi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ga=Pi("toLowerCase");var Wa=Mi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Qa=Mi((function(t,e,n){return t+(n?" ":"")+Xa(e)}));var $a=Mi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xa=Pi("toUpperCase");function Ya(t,e,n){return t=va(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Ja=Xr((function(t,e){try{return Ae(t,i,e)}catch(n){return Xs(n)?n:new at(n)}})),Za=no((function(t,e){return De(e,(function(e){e=jo(e),or(t,e,Ds(t[e],t))})),t}));function tu(t){return function(){return t}}var eu=Vi(),nu=Vi(!0);function ru(t){return t}function iu(t){return Pr("function"==typeof t?t:ur(t,1))}var ou=Xr((function(t,e){return function(n){return kr(n,t,e)}})),su=Xr((function(t,e){return function(n){return kr(t,n,e)}}));function au(t,e,n){var r=Ra(e),i=Er(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Er(e,Ra(e)));var o=!(ta(n)&&"chain"in n)||!!n.chain,s=Ys(t);return De(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Me([this.value()],arguments))})})),t}function uu(){}var cu=qi(Pe),lu=qi(Re),hu=qi(Ve);function fu(t){return bo(t)?We(jo(t)):function(t){return function(e){return Tr(e,t)}}(t)}var du=Ki(),pu=Ki(!0);function gu(){return[]}function mu(){return!1}var yu=zi((function(t,e){return t+e}),0),vu=Qi("ceil"),wu=zi((function(t,e){return t/e}),1),_u=Qi("floor");var bu=zi((function(t,e){return t*e}),1),Eu=Qi("round"),Tu=zi((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Dt(o);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=As,Un.assign=wa,Un.assignIn=_a,Un.assignInWith=ba,Un.assignWith=Ea,Un.at=Ta,Un.before=xs,Un.bind=Ds,Un.bindAll=Za,Un.bindKey=ks,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Un.chain=fs,Un.chunk=function(t,e,r){e=(r?_o(t,e,r):e===i)?1:Qe(pa(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=n(de(o/e));s<o;)u[a++]=ri(t,s,s+=e);return u},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Me(Hs(r)?Di(r):[r],yr(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=uo();return t=e?Pe(t,(function(t){if("function"!=typeof t[1])throw new Dt(o);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ae(i[0],this,n))return Ae(i[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Ra(t);return function(n){return cr(n,t,e)}}(ur(t,1))},Un.constant=tu,Un.countBy=gs,Un.create=function(t,e){var n=Bn(t);return null==e?n:ir(n,e)},Un.curry=function t(e,n,r){var o=Yi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.curryRight=function t(e,n,r){var o=Yi(e,u,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.debounce=Rs,Un.defaults=Sa,Un.defaultsDeep=Ca,Un.defer=Ns,Un.delay=Os,Un.difference=Uo,Un.differenceBy=Bo,Un.differenceWith=zo,Un.drop=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},Un.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?di(t,uo(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?di(t,uo(e,3),!0):[]},Un.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&_o(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Un.filter=function(t,e){return(Hs(t)?Ne:mr)(t,uo(e,3))},Un.flatMap=function(t,e){return yr(Ts(t,e),1)},Un.flatMapDeep=function(t,e){return yr(Ts(t,e),d)},Un.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),yr(Ts(t,e),n)},Un.flatten=Ko,Un.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,d):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===i?1:pa(e)):[]},Un.flip=function(t){return Yi(t,512)},Un.flow=eu,Un.flowRight=nu,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Un.functions=function(t){return null==t?[]:Er(t,Ra(t))},Un.functionsIn=function(t){return null==t?[]:Er(t,Na(t))},Un.groupBy=_s,Un.initial=function(t){return(null==t?0:t.length)?ri(t,0,-1):[]},Un.intersection=Wo,Un.intersectionBy=Qo,Un.intersectionWith=$o,Un.invert=xa,Un.invertBy=Da,Un.invokeMap=bs,Un.iteratee=iu,Un.keyBy=Es,Un.keys=Ra,Un.keysIn=Na,Un.map=Ts,Un.mapKeys=function(t,e){var n={};return e=uo(e,3),_r(t,(function(t,r,i){or(n,e(t,r,i),t)})),n},Un.mapValues=function(t,e){var n={};return e=uo(e,3),_r(t,(function(t,r,i){or(n,r,e(t,r,i))})),n},Un.matches=function(t){return Ur(ur(t,1))},Un.matchesProperty=function(t,e){return Br(t,ur(e,1))},Un.memoize=Ls,Un.merge=Oa,Un.mergeWith=La,Un.method=ou,Un.methodOf=su,Un.mixin=au,Un.negate=Ps,Un.nthArg=function(t){return t=pa(t),Xr((function(e){return qr(e,t)}))},Un.omit=Pa,Un.omitBy=function(t,e){return ja(t,Ps(uo(e)))},Un.once=function(t){return xs(2,t)},Un.orderBy=function(t,e,n,r){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Un.over=cu,Un.overArgs=Ms,Un.overEvery=lu,Un.overSome=hu,Un.partial=js,Un.partialRight=Fs,Un.partition=Ss,Un.pick=Ma,Un.pickBy=ja,Un.property=fu,Un.propertyOf=function(t){return function(e){return null==t?i:Tr(t,e)}},Un.pull=Yo,Un.pullAll=Jo,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,uo(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,i,n):t},Un.pullAt=Zo,Un.range=du,Un.rangeRight=pu,Un.rearg=Vs,Un.reject=function(t,e){return(Hs(t)?Ne:mr)(t,Ps(uo(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=uo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Wr(t,i),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Dt(o);return Xr(t,e=e===i?e:pa(e))},Un.reverse=ts,Un.sampleSize=function(t,e,n){return e=(n?_o(t,e,n):e===i)?1:pa(e),(Hs(t)?Jn:Jr)(t,e)},Un.set=function(t,e,n){return null==t?t:Zr(t,e,n)},Un.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Zr(t,e,n,r)},Un.shuffle=function(t){return(Hs(t)?Zn:ni)(t)},Un.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_o(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ri(t,e,n)):[]},Un.sortBy=Cs,Un.sortedUniq=function(t){return t&&t.length?ai(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?ai(t,uo(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&_o(t,e,n)&&(e=n=i),(n=n===i?m:n>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=ci(e))&&un(t)?bi(gn(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Dt(o);return e=null==e?0:Qe(pa(e),0),Xr((function(n){var r=n[e],i=bi(n,0,e);return r&&Me(i,r),Ae(t,this,i)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?ri(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?ri(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},Un.takeRightWhile=function(t,e){return t&&t.length?di(t,uo(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?di(t,uo(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Dt(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rs(t,e,{leading:r,maxWait:e,trailing:i})},Un.thru=ds,Un.toArray=fa,Un.toPairs=Fa,Un.toPairsIn=Va,Un.toPath=function(t){return Hs(t)?Pe(t,jo):ua(t)?[t]:Di(Mo(va(t)))},Un.toPlainObject=ya,Un.transform=function(t,e,n){var r=Hs(t),i=r||Qs(t)||ca(t);if(e=uo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ta(t)&&Ys(o)?Bn(Gt(t)):{}}return(i?De:_r)(t,(function(t,r,i){return e(n,t,r,i)})),n},Un.unary=function(t){return As(t,1)},Un.union=es,Un.unionBy=ns,Un.unionWith=rs,Un.uniq=function(t){return t&&t.length?li(t):[]},Un.uniqBy=function(t,e){return t&&t.length?li(t,uo(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?li(t,i,e):[]},Un.unset=function(t,e){return null==t||hi(t,e)},Un.unzip=is,Un.unzipWith=os,Un.update=function(t,e,n){return null==t?t:fi(t,e,vi(n))},Un.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:fi(t,e,vi(n),r)},Un.values=Ua,Un.valuesIn=function(t){return null==t?[]:tn(t,Na(t))},Un.without=ss,Un.words=Ya,Un.wrap=function(t,e){return js(vi(e),t)},Un.xor=as,Un.xorBy=us,Un.xorWith=cs,Un.zip=ls,Un.zipObject=function(t,e){return mi(t||[],e||[],er)},Un.zipObjectDeep=function(t,e){return mi(t||[],e||[],Zr)},Un.zipWith=hs,Un.entries=Fa,Un.entriesIn=Va,Un.extend=_a,Un.extendWith=ba,au(Un,Un),Un.add=yu,Un.attempt=Ja,Un.camelCase=Ba,Un.capitalize=za,Un.ceil=vu,Un.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))===n?n:0),e!==i&&(e=(e=ma(e))===e?e:0),ar(ma(t),e,n)},Un.clone=function(t){return ur(t,4)},Un.cloneDeep=function(t){return ur(t,5)},Un.cloneDeepWith=function(t,e){return ur(t,5,e="function"==typeof e?e:i)},Un.cloneWith=function(t,e){return ur(t,4,e="function"==typeof e?e:i)},Un.conformsTo=function(t,e){return null==e||cr(t,e,Ra(e))},Un.deburr=qa,Un.defaultTo=function(t,e){return null==t||t!==t?e:t},Un.divide=wu,Un.endsWith=function(t,e,n){t=va(t),e=ci(e);var r=t.length,o=n=n===i?r:ar(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Un.eq=Us,Un.escape=function(t){return(t=va(t))&&Y.test(t)?t.replace($,sn):t},Un.escapeRegExp=function(t){return(t=va(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Un.every=function(t,e,n){var r=Hs(t)?Re:pr;return n&&_o(t,e,n)&&(e=i),r(t,uo(e,3))},Un.find=ms,Un.findIndex=qo,Un.findKey=function(t,e){return Be(t,uo(e,3),_r)},Un.findLast=ys,Un.findLastIndex=Ho,Un.findLastKey=function(t,e){return Be(t,uo(e,3),br)},Un.floor=_u,Un.forEach=vs,Un.forEachRight=ws,Un.forIn=function(t,e){return null==t?t:vr(t,uo(e,3),Na)},Un.forInRight=function(t,e){return null==t?t:wr(t,uo(e,3),Na)},Un.forOwn=function(t,e){return t&&_r(t,uo(e,3))},Un.forOwnRight=function(t,e){return t&&br(t,uo(e,3))},Un.get=Ia,Un.gt=Bs,Un.gte=zs,Un.has=function(t,e){return null!=t&&mo(t,e,Ar)},Un.hasIn=Aa,Un.head=Go,Un.identity=ru,Un.includes=function(t,e,n,r){t=Gs(t)?t:Ua(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=Qe(i+n,0)),aa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&qe(t,e,n)>-1},Un.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qe(r+i,0)),qe(t,e,i)},Un.inRange=function(t,e,n){return e=da(e),n===i?(n=e,e=0):n=da(n),function(t,e,n){return t>=wn(e,n)&&t<Qe(e,n)}(t=ma(t),e,n)},Un.invoke=ka,Un.isArguments=qs,Un.isArray=Hs,Un.isArrayBuffer=Ks,Un.isArrayLike=Gs,Un.isArrayLikeObject=Ws,Un.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Cr(t)==_},Un.isBuffer=Qs,Un.isDate=$s,Un.isElement=function(t){return ea(t)&&1===t.nodeType&&!ia(t)},Un.isEmpty=function(t){if(null==t)return!0;if(Gs(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Qs(t)||ca(t)||qs(t)))return!t.length;var e=go(t);if(e==C||e==k)return!t.size;if(So(t))return!Mr(t).length;for(var n in t)if(Pt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Nr(t,e)},Un.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Nr(t,e,i,n):!!r},Un.isError=Xs,Un.isFinite=function(t){return"number"==typeof t&&we(t)},Un.isFunction=Ys,Un.isInteger=Js,Un.isLength=Zs,Un.isMap=na,Un.isMatch=function(t,e){return t===e||Or(t,e,lo(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Or(t,e,lo(e),n)},Un.isNaN=function(t){return ra(t)&&t!=+t},Un.isNative=function(t){if(To(t))throw new at("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=ra,Un.isObject=ta,Un.isObjectLike=ea,Un.isPlainObject=ia,Un.isRegExp=oa,Un.isSafeInteger=function(t){return Js(t)&&t>=-9007199254740991&&t<=p},Un.isSet=sa,Un.isString=aa,Un.isSymbol=ua,Un.isTypedArray=ca,Un.isUndefined=function(t){return t===i},Un.isWeakMap=function(t){return ea(t)&&go(t)==O},Un.isWeakSet=function(t){return ea(t)&&"[object WeakSet]"==Cr(t)},Un.join=function(t,e){return null==t?"":_e.call(t,e)},Un.kebabCase=Ha,Un.last=Xo,Un.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?Qe(r+o,0):wn(o,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):ze(t,Ke,o,!0)},Un.lowerCase=Ka,Un.lowerFirst=Ga,Un.lt=la,Un.lte=ha,Un.max=function(t){return t&&t.length?gr(t,ru,Ir):i},Un.maxBy=function(t,e){return t&&t.length?gr(t,uo(e,2),Ir):i},Un.mean=function(t){return Ge(t,ru)},Un.meanBy=function(t,e){return Ge(t,uo(e,2))},Un.min=function(t){return t&&t.length?gr(t,ru,Fr):i},Un.minBy=function(t,e){return t&&t.length?gr(t,uo(e,2),Fr):i},Un.stubArray=gu,Un.stubFalse=mu,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=bu,Un.nth=function(t,e){return t&&t.length?qr(t,pa(e)):i},Un.noConflict=function(){return ge._===this&&(ge._=Ut),this},Un.noop=uu,Un.now=Is,Un.pad=function(t,e,n){t=va(t);var r=(e=pa(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(pe(i),n)+t+Hi(de(i),n)},Un.padEnd=function(t,e,n){t=va(t);var r=(e=pa(e))?pn(t):0;return e&&r<e?t+Hi(e-r,n):t},Un.padStart=function(t,e,n){t=va(t);var r=(e=pa(e))?pn(t):0;return e&&r<e?Hi(e-r,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(va(t).replace(st,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_o(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=da(t),e===i?(e=t,t=0):e=da(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=En();return wn(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Qr(t,e)},Un.reduce=function(t,e,n){var r=Hs(t)?je:$e,i=arguments.length<3;return r(t,uo(e,4),n,i,fr)},Un.reduceRight=function(t,e,n){var r=Hs(t)?Fe:$e,i=arguments.length<3;return r(t,uo(e,4),n,i,dr)},Un.repeat=function(t,e,n){return e=(n?_o(t,e,n):e===i)?1:pa(e),$r(va(t),e)},Un.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var r=-1,o=(e=wi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[jo(e[r])];s===i&&(r=o,s=n),t=Ys(s)?s.call(t):s}return t},Un.round=Eu,Un.runInContext=t,Un.sample=function(t){return(Hs(t)?Yn:Yr)(t)},Un.size=function(t){if(null==t)return 0;if(Gs(t))return aa(t)?pn(t):t.length;var e=go(t);return e==C||e==k?t.size:Mr(t).length},Un.snakeCase=Wa,Un.some=function(t,e,n){var r=Hs(t)?Ve:ii;return n&&_o(t,e,n)&&(e=i),r(t,uo(e,3))},Un.sortedIndex=function(t,e){return oi(t,e)},Un.sortedIndexBy=function(t,e,n){return si(t,e,uo(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=oi(t,e);if(r<n&&Us(t[r],e))return r}return-1},Un.sortedLastIndex=function(t,e){return oi(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return si(t,e,uo(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=oi(t,e,!0)-1;if(Us(t[n],e))return n}return-1},Un.startCase=Qa,Un.startsWith=function(t,e,n){return t=va(t),n=null==n?0:ar(pa(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Un.subtract=Tu,Un.sum=function(t){return t&&t.length?Xe(t,ru):0},Un.sumBy=function(t,e){return t&&t.length?Xe(t,uo(e,2)):0},Un.template=function(t,e,n){var r=Un.templateSettings;n&&_o(t,e,n)&&(e=i),t=va(t),e=ba({},e,r,Ji);var o,s,a=ba({},e.imports,r.imports,Ji),u=Ra(a),c=tn(a,u),l=0,h=e.interpolate||Et,f="__p += '",d=At((e.escape||Et).source+"|"+h.source+"|"+(h===tt?pt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,n,r,i,a,u){return r||(r=i),f+=t.slice(l,u).replace(Tt,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),f+="';\n";var g=Pt.call(e,"variable")&&e.variable;if(g){if(ft.test(g))throw new at("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(K,""):f).replace(G,"$1").replace(W,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Ja((function(){return St(u,p+"return "+f).apply(i,c)}));if(m.source=f,Xs(m))throw m;return m},Un.times=function(t,e){if((t=pa(t))<1||t>p)return[];var n=m,r=wn(t,m);e=uo(e),t-=m;for(var i=Ye(r,e);++n<t;)e(n);return i},Un.toFinite=da,Un.toInteger=pa,Un.toLength=ga,Un.toLower=function(t){return va(t).toLowerCase()},Un.toNumber=ma,Un.toSafeInteger=function(t){return t?ar(pa(t),-9007199254740991,p):0===t?t:0},Un.toString=va,Un.toUpper=function(t){return va(t).toUpperCase()},Un.trim=function(t,e,n){if((t=va(t))&&(n||e===i))return Je(t);if(!t||!(e=ci(e)))return t;var r=gn(t),o=gn(e);return bi(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(t,e,n){if((t=va(t))&&(n||e===i))return t.slice(0,mn(t)+1);if(!t||!(e=ci(e)))return t;var r=gn(t);return bi(r,0,rn(r,gn(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=va(t))&&(n||e===i))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var r=gn(t);return bi(r,nn(r,gn(e))).join("")},Un.truncate=function(t,e){var n=30,r="...";if(ta(e)){var o="separator"in e?e.separator:o;n="length"in e?pa(e.length):n,r="omission"in e?ci(e.omission):r}var s=(t=va(t)).length;if(un(t)){var a=gn(t);s=a.length}if(n>=s)return t;var u=n-pn(r);if(u<1)return r;var c=a?bi(a,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),oa(o)){if(t.slice(u).search(o)){var l,h=c;for(o.global||(o=At(o.source,va(gt.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(t.indexOf(ci(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Un.unescape=function(t){return(t=va(t))&&X.test(t)?t.replace(Q,yn):t},Un.uniqueId=function(t){var e=++Mt;return va(t)+e},Un.upperCase=$a,Un.upperFirst=Xa,Un.each=vs,Un.eachRight=ws,Un.first=Go,au(Un,function(){var t={};return _r(Un,(function(e,n){Pt.call(Un.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Un.VERSION="4.17.21",De(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),De(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===i?1:Qe(pa(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),De(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),De(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),De(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ru)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return kr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Ps(uo(t)))},Hn.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(m)},_r(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Un[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Un.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Hn,c=a[0],l=u||Hs(e),h=function(t){var e=o.apply(Un,Me([t],a));return r&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=u&&!d;if(!s&&l){e=g?e:new Hn(this);var m=t.apply(e,a);return m.__actions__.push({func:ds,args:[h],thisArg:i}),new qn(m,f)}return p&&g?t.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),De(["pop","push","shift","sort","splice","unshift"],(function(t){var e=kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Hs(i)?i:[],t)}return this[n]((function(n){return e.apply(Hs(n)?n:[],t)}))}})),_r(Hn.prototype,(function(t,e){var n=Un[e];if(n){var r=n.name+"";Pt.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}})),Rn[Ui(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Di(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Di(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Di(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=wn(e,t+s);break;case"takeRight":t=Qe(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=wn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return pi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,m=t[c+=e];++g<h;){var y=l[g],v=y.iteratee,w=y.type,_=v(m);if(2==w)m=_;else if(!_){if(1==w)continue t;break t}}p[f++]=m}return p},Un.prototype.at=ps,Un.prototype.chain=function(){return fs(this)},Un.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var r=Vo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:ds,args:[ts],thisArg:i}),new qn(e,this.__chain__)}return this.thru(ts)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Yt&&(Un.prototype[Yt]=function(){return this}),Un}();ge._=vn,(r=function(){return vn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},497:(t,e,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(t,e,n)=>{t.exports=n(497)()},218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},343:(t,e,n)=>{var r=n(957);function i(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}i.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},t.exports=i},813:t=>{function e(){this.buffer=new Array,this.length=0}e.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},742:t=>{t.exports={L:1,M:0,Q:3,H:2}},392:(t,e,n)=>{var r=n(460);function i(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(t.get(o)));return new i(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=r.glog(this.get(0))-r.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<t.getLength();o++)n[o]^=r.gexp(r.glog(t.get(o))+e);return new i(n,0).mod(t)}},t.exports=i},612:(t,e,n)=>{var r=n(343),i=n(436),o=n(813),s=n(898),a=n(392);function u(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=u.prototype;c.addData=function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},c.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=i.getRSBlocks(t,this.errorCorrectLevel),n=new o,r=0,a=0;a<e.length;a++)r+=e[a].dataCount;for(a=0;a<this.dataList.length;a++){var u=this.dataList[a];n.put(u.mode,4),n.put(u.getLength(),s.getLengthInBits(u.mode,t)),u.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},c.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},c.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=s.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},c.createMovieClip=function(t,e,n){var r=t.createEmptyMovieClip(e,n);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(r.beginFill(0,100),r.moveTo(a,o),r.lineTo(a+1,o),r.lineTo(a+1,o+1),r.lineTo(a,o+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},c.setupPositionAdjustPattern=function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[r+o][i+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},c.setupTypeNumber=function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=s.getBCHTypeInfo(n),i=0;i<15;i++){var o=!t&&1==(r>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!t&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},c.mapData=function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var u=0;u<2;u++)if(null==this.modules[r][a-u]){var c=!1;o<t.length&&(c=1==(t[o]>>>i&1)),s.getMask(e,r,a-u)&&(c=!c),this.modules[r][a-u]=c,-1==--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},u.PAD0=236,u.PAD1=17,u.createData=function(t,e,n){for(var r=i.getRSBlocks(t,e),a=new o,c=0;c<n.length;c++){var l=n[c];a.put(l.mode,4),a.put(l.getLength(),s.getLengthInBits(l.mode,t)),l.write(a)}var h=0;for(c=0;c<r.length;c++)h+=r[c].dataCount;if(a.getLengthInBits()>8*h)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*h+")");for(a.getLengthInBits()+4<=8*h&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*h)&&(a.put(u.PAD0,8),!(a.getLengthInBits()>=8*h));)a.put(u.PAD1,8);return u.createBytes(a,r)},u.createBytes=function(t,e){for(var n=0,r=0,i=0,o=new Array(e.length),u=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,h=e[c].totalCount-l;r=Math.max(r,l),i=Math.max(i,h),o[c]=new Array(l);for(var f=0;f<o[c].length;f++)o[c][f]=255&t.buffer[f+n];n+=l;var d=s.getErrorCorrectPolynomial(h),p=new a(o[c],d.getLength()-1).mod(d);u[c]=new Array(d.getLength()-1);for(f=0;f<u[c].length;f++){var g=f+p.getLength()-u[c].length;u[c][f]=g>=0?p.get(g):0}}var m=0;for(f=0;f<e.length;f++)m+=e[f].totalCount;var y=new Array(m),v=0;for(f=0;f<r;f++)for(c=0;c<e.length;c++)f<o[c].length&&(y[v++]=o[c][f]);for(f=0;f<i;f++)for(c=0;c<e.length;c++)f<u[c].length&&(y[v++]=u[c][f]);return y},t.exports=u},436:(t,e,n)=>{var r=n(742);function i(t,e){this.totalCount=t,this.dataCount=e}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(t,e){var n=i.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,o=new Array,s=0;s<r;s++)for(var a=n[3*s+0],u=n[3*s+1],c=n[3*s+2],l=0;l<a;l++)o.push(new i(u,c));return o},i.getRsBlockTable=function(t,e){switch(e){case r.L:return i.RS_BLOCK_TABLE[4*(t-1)+0];case r.M:return i.RS_BLOCK_TABLE[4*(t-1)+1];case r.Q:return i.RS_BLOCK_TABLE[4*(t-1)+2];case r.H:return i.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},t.exports=i},460:t=>{for(var e={glog:function(t){if(t<1)throw new Error("glog("+t+")");return e.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)e.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)e.EXP_TABLE[n]=e.EXP_TABLE[n-4]^e.EXP_TABLE[n-5]^e.EXP_TABLE[n-6]^e.EXP_TABLE[n-8];for(n=0;n<255;n++)e.LOG_TABLE[e.EXP_TABLE[n]]=n;t.exports=e},957:t=>{t.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},898:(t,e,n)=>{var r=n(957),i=n(392),o=n(460),s=0,a=1,u=2,c=3,l=4,h=5,f=6,d=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case s:return(e+n)%2==0;case a:return e%2==0;case u:return n%3==0;case c:return(e+n)%3==0;case l:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case h:return e*n%2+e*n%3==0;case f:return(e*n%2+e*n%3)%2==0;case d:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),n=0;n<t;n++)e=e.multiply(new i([1,o.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||0==a&&0==u||s==t.isDark(r+a,i+u)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<e-1;r++)for(i=0;i<e-1;i++){var c=0;t.isDark(r,i)&&c++,t.isDark(r+1,i)&&c++,t.isDark(r,i+1)&&c++,t.isDark(r+1,i+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<e;r++)for(i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(i=0;i<e;i++)for(r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);var l=0;for(i=0;i<e;i++)for(r=0;r<e;r++)t.isDark(r,i)&&l++;return n+=10*(Math.abs(100*l/e/e-50)/5)}};t.exports=p},672:(t,e,n)=>{"use strict";var r=n(43);function i(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(i(299));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=u.T,n=s.p;try{if(u.T=null,s.p=2,t)return t()}finally{u.T=e,s.p=n,s.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,s.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&s.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,r=c(n,e.crossOrigin),i="string"===typeof e.integrity?e.integrity:void 0,o="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?s.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=c(e.as,e.crossOrigin);s.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&s.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,r=c(n,e.crossOrigin);s.d.L(t,n,{crossOrigin:r,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=c(e.as,e.crossOrigin);s.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else s.d.m(t)},e.requestFormReset=function(t){s.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return u.H.useFormState(t,e,n)},e.useFormStatus=function(){return u.H.useHostTransitionStatus()},e.version="19.0.0"},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)},686:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=a(n(173)),o=n(43),s=a(o);function a(t){return t&&t.__esModule?t:{default:t}}var u={bgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,bgD:i.default.string.isRequired,fgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,fgD:i.default.string.isRequired,size:i.default.number.isRequired,title:i.default.string,viewBoxSize:i.default.number.isRequired,xmlns:i.default.string},c=(0,o.forwardRef)((function(t,e){var n=t.bgColor,i=t.bgD,o=t.fgD,a=t.fgColor,u=t.size,c=t.title,l=t.viewBoxSize,h=t.xmlns,f=void 0===h?"http://www.w3.org/2000/svg":h,d=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",r({},d,{height:u,ref:e,viewBox:"0 0 "+l+" "+l,width:u,xmlns:f}),c?s.default.createElement("title",null,c):null,s.default.createElement("path",{d:i,fill:n}),s.default.createElement("path",{d:o,fill:a}))}));c.displayName="QRCodeSvg",c.propTypes=u,e.default=c},245:(t,e,n)=>{"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(173)),o=l(n(742)),s=l(n(612)),a=n(43),u=l(a),c=l(n(686));function l(t){return t&&t.__esModule?t:{default:t}}var h={bgColor:i.default.oneOfType([i.default.object,i.default.string]),fgColor:i.default.oneOfType([i.default.object,i.default.string]),level:i.default.string,size:i.default.number,value:i.default.string.isRequired},f=(0,a.forwardRef)((function(t,e){var n=t.bgColor,i=void 0===n?"#FFFFFF":n,a=t.fgColor,l=void 0===a?"#000000":a,h=t.level,f=void 0===h?"L":h,d=t.size,p=void 0===d?256:d,g=t.value,m=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["bgColor","fgColor","level","size","value"]),y=new s.default(-1,o.default[f]);y.addData(g),y.make();var v=y.modules;return u.default.createElement(c.default,r({},m,{bgColor:i,bgD:v.map((function(t,e){return t.map((function(t,n){return t?"":"M "+n+" "+e+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:l,fgD:v.map((function(t,e){return t.map((function(t,n){return t?"M "+n+" "+e+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:e,size:p,viewBoxSize:v.length}))}));f.displayName="QRCode",f.propTypes=h,e.Ay=f},358:(t,e)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function u(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function c(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function l(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},799:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element");function r(t,e,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==e.key&&(i=""+e.key),"key"in e)for(var o in r={},e)"key"!==o&&(r[o]=e[o]);else r=e;return e=r.ref,{$$typeof:n,type:t,key:i,ref:void 0!==e?e:null,props:r}}Symbol.for("react.fragment"),e.jsx=r,e.jsxs=r},288:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function w(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var _=w.prototype=new v;_.constructor=w,g(_,y.prototype),_.isPureReactComponent=!0;var b=Array.isArray,E={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function S(t,e,r,i,o,s){return r=s.ref,{$$typeof:n,type:t,key:e,ref:void 0!==r?r:null,props:s}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function A(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function x(){}function D(t,e,i,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u,c,l=!1;if(null===t)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0;break;case f:return D((l=t._init)(t._payload),e,i,o,s)}}if(l)return s=s(t),l=""===o?"."+A(t,0):o,b(s)?(i="",null!=l&&(i=l.replace(I,"$&/")+"/"),D(s,e,i,"",(function(t){return t}))):null!=s&&(C(s)&&(u=s,c=i+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+l,s=S(u.type,c,void 0,0,0,u.props)),e.push(s)),1;l=0;var h,p=""===o?".":o+":";if(b(t))for(var g=0;g<t.length;g++)l+=D(o=t[g],e,i,a=p+A(o,g),s);else if("function"===typeof(g=null===(h=t)||"object"!==typeof h?null:"function"===typeof(h=d&&h[d]||h["@@iterator"])?h:null))for(t=g.call(t),g=0;!(o=t.next()).done;)l+=D(o=o.value,e,i,a=p+A(o,g++),s);else if("object"===a){if("function"===typeof t.then)return D(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(x,x):(t.status="pending",t.then((function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)}),(function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,i,o,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function k(t,e,n){if(null==t)return t;var r=[],i=0;return D(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var N="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function O(){}e.Children={map:k,forEach:function(t,e,n){k(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return k(t,(function(){e++})),e},toArray:function(t){return k(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=s,e.PureComponent=w,e.StrictMode=o,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,e.act=function(){throw Error("act(...) is not supported in production builds of React.")},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var r=g({},t.props),i=t.key;if(null!=e)for(o in void 0!==e.ref&&void 0,void 0!==e.key&&(i=""+e.key),e)!T.call(e,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===e.ref||(r[o]=e[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return S(t.type,i,void 0,0,0,r)},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:a,_context:t},t},e.createElement=function(t,e,n){var r,i={},o=null;if(null!=e)for(r in void 0!==e.key&&(o=""+e.key),e)T.call(e,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return S(t,o,void 0,0,0,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=E.T,n={};E.T=n;try{var r=t(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,N)}catch(o){N(o)}finally{E.T=e}},e.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},e.use=function(t){return E.H.use(t)},e.useActionState=function(t,e,n){return E.H.useActionState(t,e,n)},e.useCallback=function(t,e){return E.H.useCallback(t,e)},e.useContext=function(t){return E.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return E.H.useDeferredValue(t,e)},e.useEffect=function(t,e){return E.H.useEffect(t,e)},e.useId=function(){return E.H.useId()},e.useImperativeHandle=function(t,e,n){return E.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return E.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return E.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return E.H.useMemo(t,e)},e.useOptimistic=function(t,e){return E.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return E.H.useReducer(t,e,n)},e.useRef=function(t){return E.H.useRef(t)},e.useState=function(t){return E.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return E.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return E.H.useTransition()},e.version="19.0.0"},43:(t,e,n)=>{"use strict";t.exports=n(288)},579:(t,e,n)=>{"use strict";t.exports=n(799)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=n(43),e=n(950);function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function s(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(358);const c=["page"],l=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function g(){return E((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return w("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:_(e)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function m(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function y(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function v(t,e){return{usr:t.state,key:t.key,idx:e}}function w(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?b(e):e),{},{state:n,key:e&&e.key||r||Math.random().toString(36).substring(2,10)})}function _(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function b(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function E(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",c=null,l=h();function h(){return(s.state||{idx:null}).idx}function f(){a="POP";let t=h(),e=null==t?null:t-l;l=t,c&&c({action:a,location:g.location,delta:e})}function d(t){let e="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof t?t:_(t);return n=n.replace(/ $/,"%20"),m(e,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,e)}null==l&&(l=0,s.replaceState(u(u({},s.state),{},{idx:l}),""));let g={get action(){return a},get location(){return t(i,s)},listen(t){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(p,f),c=t,()=>{i.removeEventListener(p,f),c=null}},createHref:t=>e(i,t),createURL:d,encodeLocation(t){let e=d(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){a="PUSH";let r=w(g.location,t,e);n&&n(r,t),l=h()+1;let u=v(r,l),f=g.createHref(r);try{s.pushState(u,"",f)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(f)}o&&c&&c({action:a,location:g.location,delta:1})},replace:function(t,e){a="REPLACE";let r=w(g.location,t,e);n&&n(r,t),l=h();let i=v(r,l),u=g.createHref(r);s.replaceState(i,"",u),o&&c&&c({action:a,location:g.location,delta:0})},go:t=>s.go(t)};return g}function T(t,e){return S(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function S(t,e,n,r){let i=F(("string"===typeof e?b(e):e).pathname||"/",n);if(null==i)return null;let o=C(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let t=j(i);s=P(o[a],t,r)}return s}function C(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(t,i,o)=>{let s={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};s.relativePath.startsWith("/")&&(m(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let a=q([r,s.relativePath]),u=n.concat(s);t.children&&t.children.length>0&&(m(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),C(t.children,e,u,a)),(null!=t.path||t.index)&&e.push({path:a,score:L(a,t.index),routesMeta:u})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!==(n=t.path)&&void 0!==n&&n.includes("?"))for(let r of I(t.path))i(t,e,r);else i(t,e)})),e}function I(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=I(r.join("/")),a=[];return a.push(...s.map((t=>""===t?o:[o,t].join("/")))),i&&a.push(...s),a.map((e=>t.startsWith("/")&&""===e?"/":e))}var A=/^:[\w-]+$/,x=3,D=2,k=1,R=10,N=-2,O=t=>"*"===t;function L(t,e){let n=t.split("/"),r=n.length;return n.some(O)&&(r+=N),e&&(r+=D),n.filter((t=>!O(t))).reduce(((t,e)=>t+(A.test(e)?x:""===e?k:R)),r)}function P(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let t=r[a],u=a===r.length-1,c="/"===o?e:e.slice(o.length)||"/",l=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:u},c),h=t.route;if(!l&&u&&n&&!r[r.length-1].route.index&&(l=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!l)return null;Object.assign(i,l.params),s.push({params:i,pathname:q([o,l.pathname]),pathnameBase:H(q([o,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(o=q([o,l.pathnameBase]))}return s}function M(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'.concat(t,'" will be treated as if it were "').concat(t.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(t.replace(/\*$/,"/*"),'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=a[n]||"";s=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const u=a[n];return t[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),t}),{}),pathname:o,pathnameBase:s,pattern:t}}function j(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return y(!1,'The URL path "'.concat(t,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),t}}function F(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function V(t,e,n,r){return"Cannot include a '".concat(t,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function U(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function B(t){let e=U(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function z(t,e,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?r=b(t):(r=u({},t),m(!r.pathname||!r.pathname.includes("?"),V("?","pathname","search",r)),m(!r.pathname||!r.pathname.includes("#"),V("#","pathname","hash",r)),m(!r.search||!r.search.includes("#"),V("#","search","hash",r)));let o,s=""===t||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let t=e.length-1;if(!i&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}o=t>=0?e[t]:"/"}let c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof t?b(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:K(r),hash:G(i)}}(r,o),l=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!h||(c.pathname+="/"),c}var q=t=>t.join("/").replace(/\/\/+/g,"/"),H=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",G=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function W(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var Q=["POST","PUT","PATCH","DELETE"],$=(new Set(Q),["GET",...Q]);new Set($),Symbol("ResetLoaderData");var X=t.createContext(null);X.displayName="DataRouter";var Y=t.createContext(null);Y.displayName="DataRouterState";var J=t.createContext({isTransitioning:!1});J.displayName="ViewTransition";var Z=t.createContext(new Map);Z.displayName="Fetchers";var tt=t.createContext(null);tt.displayName="Await";var et=t.createContext(null);et.displayName="Navigation";var nt=t.createContext(null);nt.displayName="Location";var rt=t.createContext({outlet:null,matches:[],isDataRoute:!1});rt.displayName="Route";var it=t.createContext(null);it.displayName="RouteError";function ot(){return null!=t.useContext(nt)}function st(){return m(ot(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(nt).location}var at="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ut(e){t.useContext(et).static||t.useLayoutEffect(e)}function ct(){let{isDataRoute:e}=t.useContext(rt);return e?function(){let{router:e}=wt("useNavigate"),n=bt("useNavigate"),r=t.useRef(!1);ut((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(r.current,at),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,u({fromRouteId:n},i)))}),[e,n]);return i}():function(){m(ot(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(X),{basename:n,navigator:r}=t.useContext(et),{matches:i}=t.useContext(rt),{pathname:o}=st(),s=JSON.stringify(B(i)),a=t.useRef(!1);ut((()=>{a.current=!0}));let u=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(a.current,at),!a.current)return;if("number"===typeof t)return void r.go(t);let u=z(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(u.pathname="/"===u.pathname?n:q([n,u.pathname])),(i.replace?r.replace:r.push)(u,i.state,i)}),[n,r,s,o,e]);return u}()}t.createContext(null);function lt(){let{matches:e}=t.useContext(rt),n=e[e.length-1];return n?n.params:{}}function ht(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(rt),{pathname:i}=st(),o=JSON.stringify(B(r));return t.useMemo((()=>z(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function ft(e,n,r,i){m(ot(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=t.useContext(et),{matches:s}=t.useContext(rt),a=s[s.length-1],c=a?a.params:{},l=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let t=f&&f.path||"";St(l,!f||t.endsWith("*")||t.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(l,'" (under <Route path="').concat(t,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(t,'"> to <Route path="').concat("/"===t?"*":"".concat(t,"/*"),'">.'))}let d,p=st();if(n){var g;let t="string"===typeof n?b(n):n;m("/"===h||(null===(g=t.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(t.pathname,'" was given in the `location` prop.')),d=t}else d=p;let v=d.pathname||"/",w=v;if("/"!==h){let t=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(t.length).join("/")}let _=T(e,{pathname:w});y(f||null!=_,'No routes matched location "'.concat(d.pathname).concat(d.search).concat(d.hash,'" ')),y(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(d.pathname).concat(d.search).concat(d.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let E=yt(_&&_.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:q([h,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:q([h,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),s,r,i);return n&&E?t.createElement(nt.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:"POP"}},E):E}function dt(){let e=Et(),n=W(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,a)}var pt=t.createElement(dt,null),gt=class extends t.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?t.createElement(rt.Provider,{value:this.props.routeContext},t.createElement(it.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mt(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(X);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(rt.Provider,{value:n},i)}function yt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let t=i.findIndex((t=>t.route.id&&void 0!==(null===o||void 0===o?void 0:o[t.route.id])));m(t>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,t+1))}let s=!1,a=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){s=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,u,c)=>{let l,h=!1,f=null,d=null;r&&(l=o&&u.route.id?o[u.route.id]:void 0,f=u.route.errorElement||pt,s&&(a<0&&0===c?(St("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,d=null):a===c&&(h=!0,d=u.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),g=()=>{let n;return n=l?f:h?d:u.route.Component?t.createElement(u.route.Component,null):u.route.element?u.route.element:e,t.createElement(mt,{match:u,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(u.route.ErrorBoundary||u.route.errorElement||0===c)?t.createElement(gt,{location:r.location,revalidation:r.revalidation,component:f,error:l,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function vt(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function wt(e){let n=t.useContext(X);return m(n,vt(e)),n}function _t(e){let n=t.useContext(Y);return m(n,vt(e)),n}function bt(e){let n=function(e){let n=t.useContext(rt);return m(n,vt(e)),n}(e),r=n.matches[n.matches.length-1];return m(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Et(){var e;let n=t.useContext(it),r=_t("useRouteError"),i=bt("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var Tt={};function St(t,e,n){e||Tt[t]||(Tt[t]=!0,y(!1,n))}t.memo((function(t){let{routes:e,future:n,state:r}=t;return ft(e,void 0,r,n)}));function Ct(t){m(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function It(e){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;m(!ot(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:u,navigator:s,static:a,future:{}})),[u,s,a]);"string"===typeof i&&(i=b(i));let{pathname:l="/",search:h="",hash:f="",state:d=null,key:p="default"}=i,g=t.useMemo((()=>{let t=F(l,u);return null==t?null:{location:{pathname:t,search:h,hash:f,state:d,key:p},navigationType:o}}),[u,l,h,f,d,p,o]);return y(null!=g,'<Router basename="'.concat(u,'"> is not able to match the URL "').concat(l).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:t.createElement(et.Provider,{value:c},t.createElement(nt.Provider,{children:r,value:g}))}function At(t){let{children:e,location:n}=t;return ft(xt(e),n)}t.Component;function xt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,xt(e.props.children,o));m(e.type===Ct,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),m(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=xt(e.props.children,o)),r.push(s)})),r}var Dt="get",kt="application/x-www-form-urlencoded";function Rt(t){return null!=t&&"string"===typeof t.tagName}var Nt=null;var Ot=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lt(t){return null==t||Ot.has(t)?t:(y(!1,'"'.concat(t,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(kt,'"')),null)}function Pt(t,e){let n,r,i,o,s;if(Rt(a=t)&&"form"===a.tagName.toLowerCase()){let s=t.getAttribute("action");r=s?F(s,e):null,n=t.getAttribute("method")||Dt,i=Lt(t.getAttribute("enctype"))||kt,o=new FormData(t)}else if(function(t){return Rt(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return Rt(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let s=t.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||s.getAttribute("action");if(r=a?F(a,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Dt,i=Lt(t.getAttribute("formenctype"))||Lt(s.getAttribute("enctype"))||kt,o=new FormData(s,t),!function(){if(null===Nt)try{new FormData(document.createElement("form"),0),Nt=!1}catch(t){Nt=!0}return Nt}()){let{name:e,type:n,value:r}=t;if("image"===n){let t=e?"".concat(e,"."):"";o.append("".concat(t,"x"),"0"),o.append("".concat(t,"y"),"0")}else e&&o.append(e,r)}}else{if(Rt(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dt,r=null,i=kt,s=t}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Mt(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function jt(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error("Error loading route module `".concat(t.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ft(t){return null!=t&&"string"===typeof t.page}function Vt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Ut(t,e,n,r,i,o){let s=(t,e)=>!n[e]||t.route.id!==n[e].route.id,a=(t,e)=>{var r;return n[e].pathname!==t.pathname||(null===(r=n[e].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[e].params["*"]!==t.params["*"]};return"assets"===o?e.filter(((t,e)=>s(t,e)||a(t,e))):"data"===o?e.filter(((e,o)=>{let u=r.routes[e.route.id];if(!u||!u.hasLoader)return!1;if(s(e,o)||a(e,o))return!0;if(e.route.shouldRevalidate){var c;let r=e.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Bt(t){return[...new Set(t)]}function zt(t,e){let n=new Set,r=new Set(e);return t.reduce(((t,i)=>{if(e&&!Ft(i)&&"script"===i.as&&i.href&&r.has(i.href))return t;let o=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}(i));return n.has(o)||(n.add(o),t.push({key:o,link:i})),t}),[])}function qt(t){return{__html:t}}Symbol("SingleFetchRedirect");function Ht(t){let e="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===e.pathname?e.pathname="_root.data":e.pathname="".concat(e.pathname.replace(/\/$/,""),".data"),e}t.Component;function Kt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,o=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(W(n))return t.createElement(Gt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let t=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(t)}return t.createElement(Gt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Gt(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=Yt();return null!==a.root&&void 0!==n&&n.Layout&&!o?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?t.createElement(ie,null):null)))}function Wt(t){return!t}function Qt(){let e=t.useContext(X);return Mt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $t(){let e=t.useContext(Y);return Mt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xt=t.createContext(void 0);function Yt(){let e=t.useContext(Xt);return Mt(e,"You must render this element inside a <HydratedRouter> element"),e}function Jt(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Zt(t,e,n){if(n&&!re)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function te(e){let{page:n}=e,i=r(e,c),{router:o}=Qt(),s=t.useMemo((()=>T(o.routes,n,o.basename)),[o.routes,n,o.basename]);return s?t.createElement(ne,u({page:n,matches:s},i)):null}function ee(e){let{manifest:n,routeModules:r}=Yt(),[i,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(t,e,n){return zt((await Promise.all(t.map((async t=>{let r=e.routes[t.route.id];if(r){let t=await jt(r,n);return t.links?t.links():[]}return[]})))).flat(1).filter(Vt).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?u(u({},t),{},{rel:"prefetch",as:"style"}):u(u({},t),{},{rel:"prefetch"}))))}(e,n,r).then((e=>{t||o(e)})),()=>{t=!0}}),[e,n,r]),i}function ne(e){let{page:n,matches:i}=e,o=r(e,l),s=st(),{manifest:a,routeModules:c}=Yt(),{loaderData:h,matches:f}=$t(),d=t.useMemo((()=>Ut(n,i,f,a,s,"data")),[n,i,f,a,s]),p=t.useMemo((()=>Ut(n,i,f,a,s,"assets")),[n,i,f,a,s]),g=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let t=new Set,e=!1;if(i.forEach((n=>{var r;let i=a.routes[n.route.id];i&&i.hasLoader&&(!d.some((t=>t.route.id===n.route.id))&&n.route.id in h&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?e=!0:t.add(n.route.id))})),0===t.size)return[];let r=Ht(n);return e&&t.size>0&&r.searchParams.set("_routes",i.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[r.pathname+r.search]}),[h,s,a,d,i,n,c]),m=t.useMemo((()=>function(t,e){return Bt(t.map((t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(p,a)),[p,a]),y=ee(p);return t.createElement(t.Fragment,null,g.map((e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},o)))),m.map((e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},o)))),y.map((e=>{let{key:n,link:r}=e;return t.createElement("link",u({key:n},r))})))}Xt.displayName="FrameworkContext";var re=!1;function ie(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:o}=Yt(),{router:s,static:a,staticContext:c}=Qt(),{matches:l}=$t(),h=Wt(i);o&&(o.didRenderScripts=!0);let f=Zt(l,null,i);t.useEffect((()=>{0}),[]);let d=t.useMemo((()=>{var i;let o=c?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=a?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(h?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(f.map(((t,e)=>"import * as route".concat(e," from ").concat(JSON.stringify(n.routes[t.route.id].module),";"))).join("\n"),"\n  ").concat(h?"window.__reactRouterManifest = ".concat(JSON.stringify(function(t,e){let n=new Set(e.state.matches.map((t=>t.route.id))),r=e.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push("/".concat(r.join("/"))),r.pop();i.forEach((t=>{let r=T(e.routes,t,e.basename);r&&r.forEach((t=>n.add(t.route.id)))}));let o=[...n].reduce(((e,n)=>Object.assign(e,{[n]:t.routes[n]})),{});return u(u({},t),{},{routes:o})}(n,s),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map(((t,e)=>"".concat(JSON.stringify(t.route.id),":route").concat(e))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qt(o),type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qt(l),type:"module",async:!0})))}),[]),p=f.map((t=>{let e=n.routes[t.route.id];return e?(e.imports||[]).concat([e.module]):[]})).flat(1),g=re?[]:n.entry.imports.concat(p);return re?null:t.createElement(t.Fragment,null,h?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin}),[...new Set(m)].map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin}))),d);var m}function oe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{se&&(window.__reactRouterVersion="7.1.1")}catch(Bd){}function ae(e){let{basename:n,children:r,window:i}=e,o=t.useRef();null==o.current&&(o.current=g({window:i,v5Compat:!0}));let s=o.current,[a,u]=t.useState({action:s.action,location:s.location}),c=t.useCallback((e=>{t.startTransition((()=>u(e)))}),[u]);return t.useLayoutEffect((()=>s.listen(c)),[s,c]),t.createElement(It,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:s})}var ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=t.forwardRef((function(e,n){let i,{onClick:o,discover:s="render",prefetch:a="none",relative:c,reloadDocument:l,replace:f,state:d,target:p,to:g,preventScrollReset:v,viewTransition:w}=e,b=r(e,h),{basename:E}=t.useContext(et),T="string"===typeof g&&ue.test(g),S=!1;if("string"===typeof g&&T&&(i=g,se))try{let t=new URL(window.location.href),e=g.startsWith("//")?new URL(t.protocol+g):new URL(g),n=F(e.pathname,E);e.origin===t.origin&&null!=n?g=n+e.search+e.hash:S=!0}catch(Bd){y(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(ot(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(et),{hash:o,pathname:s,search:a}=ht(e,{relative:n}),u=s;return"/"!==r&&(u="/"===s?r:q([r,s])),i.createHref({pathname:u,search:a,hash:o})}(g,{relative:c}),[I,A,x]=function(e,n){let r=t.useContext(Xt),[i,o]=t.useState(!1),[s,a]=t.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:l,onMouseLeave:h,onTouchStart:f}=n,d=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let t=new IntersectionObserver((t=>{t.forEach((t=>{a(t.isIntersecting)}))}),{threshold:.5});return d.current&&t.observe(d.current),()=>{t.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let t=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(t)}}}),[i]);let p=()=>{o(!0)},g=()=>{o(!1),a(!1)};return r?"intent"!==e?[s,d,{}]:[s,d,{onFocus:Jt(u,p),onBlur:Jt(c,g),onMouseEnter:Jt(l,p),onMouseLeave:Jt(h,g),onTouchStart:Jt(f,p)}]:[!1,d,{}]}(a,b),D=function(e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=ct(),c=st(),l=ht(e,{relative:s});return t.useCallback((t=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(t,n)){t.preventDefault();let n=void 0!==r?r:_(c)===_(l);u(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[c,u,l,r,i,n,e,o,s,a])}(g,{replace:f,state:d,target:p,preventScrollReset:v,relative:c,viewTransition:w});let k=t.createElement("a",u(u(u({},b),x),{},{href:i||C,onClick:S||l?o:function(t){o&&o(t),t.defaultPrevented||D(t)},ref:oe(n,A),target:p,"data-discover":T||"render"!==s?void 0:"true"}));return I&&!T?t.createElement(t.Fragment,null,k,t.createElement(te,{page:C})):k}));ce.displayName="Link",t.forwardRef((function(e,n){let{"aria-current":i="page",caseSensitive:o=!1,className:s="",end:a=!1,style:c,to:l,viewTransition:h,children:d}=e,p=r(e,f),g=ht(l,{relative:p.relative}),y=st(),v=t.useContext(Y),{navigator:w,basename:_}=t.useContext(et),b=null!=v&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(J);m(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fe("useViewTransitionState"),o=ht(e,{relative:n.relative});if(!r.isTransitioning)return!1;let s=F(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=F(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=M(o.pathname,a)||null!=M(o.pathname,s)}(g)&&!0===h,E=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,T=y.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(T=T.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&_&&(S=F(S,_)||S);const C="/"!==E&&E.endsWith("/")?E.length-1:E.length;let I,A=T===E||!a&&T.startsWith(E)&&"/"===T.charAt(C),x=null!=S&&(S===E||!a&&S.startsWith(E)&&"/"===S.charAt(E.length)),D={isActive:A,isPending:x,isTransitioning:b},k=A?i:void 0;I="function"===typeof s?s(D):[s,A?"active":null,x?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof c?c(D):c;return t.createElement(ce,u(u({},p),{},{"aria-current":k,className:I,ref:n,style:R,to:l,viewTransition:h}),"function"===typeof d?d(D):d)})).displayName="NavLink";var le=t.forwardRef(((e,n)=>{let{discover:i="render",fetcherKey:o,navigate:s,reloadDocument:a,replace:c,state:l,method:h=Dt,action:f,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:v}=e,w=r(e,d),b=ge(),E=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(et),i=t.useContext(rt);m(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=u({},ht(e||".",{relative:n})),a=st();if(null==e){s.search=a.search;let t=new URLSearchParams(s.search),e=t.getAll("index"),n=e.some((t=>""===t));if(n){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:q([r,s.pathname]));return _(s)}(f,{relative:g}),T="get"===h.toLowerCase()?"get":"post",S="string"===typeof f&&ue.test(f);return t.createElement("form",u(u({ref:n,method:T,action:E,onSubmit:a?p:t=>{if(p&&p(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=(null===e||void 0===e?void 0:e.getAttribute("formmethod"))||h;b(e||t.currentTarget,{fetcherKey:o,method:n,navigate:s,replace:c,state:l,relative:g,preventScrollReset:y,viewTransition:v})}},w),{},{"data-discover":S||"render"!==i?void 0:"true"}))}));function he(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function fe(e){let n=t.useContext(X);return m(n,he(e)),n}le.displayName="Form";var de=0,pe=()=>"__".concat(String(++de),"__");function ge(){let{router:e}=fe("useSubmit"),{basename:n}=t.useContext(et),r=bt("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:u,body:c}=Pt(t,n);if(!1===i.navigate){let t=i.fetcherKey||pe();await e.fetch(t,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;var me=n(579);const ye=()=>(0,me.jsxs)("nav",{className:"navbar",children:[(0,me.jsx)("h2",{className:"navbar-brand",children:"Prayer Reader"}),(0,me.jsxs)("ul",{className:"navbar-links",children:[(0,me.jsx)("li",{children:(0,me.jsx)(ce,{to:"/",children:"Home"})}),(0,me.jsx)("li",{children:(0,me.jsx)(ce,{to:"/create-session",children:"Create Session"})}),(0,me.jsx)("li",{children:(0,me.jsx)(ce,{to:"/join-session",children:"Join Session"})})]})]}),ve=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,s=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=e>>2,l=(3&e)<<4|s>>4;let h=(15&s)<<2|u>>6,f=63&u;a||(f=64,o||(h=64)),r.push(n[c],n[l],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ve(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const s=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==s||null==a)throw new _e;const u=e<<2|o>>4;if(r.push(u),64!==s){const t=o<<4&240|s>>2;if(r.push(t),64!==a){const t=s<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(t){return function(t){const e=ve(t);return we.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Ee=function(t){try{return we.decodeString(t,!0)}catch(Bd){console.error("base64Decode failed: ",Bd)}return null};const Te=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Se=()=>{try{return Te()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Bd){return}const e=t&&Ee(t[1]);return e&&JSON.parse(e)})()}catch(Bd){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Bd))}},Ce=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Se())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ie=()=>{var t;return null===(t=Se())||void 0===t?void 0:t.config};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function De(){return!function(){var t;const e=null===(t=Se())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Bd){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"===typeof indexedDB}catch(Bd){return!1}}function Re(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class Ne extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?function(t,e){return t.replace(Le,((t,n)=>{const r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,e):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ne(n,o,e)}}const Le=/\{\$([^}]+)}/g;function Pe(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(Me(n)&&Me(o)){if(!Pe(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Me(t){return null!==t&&"object"===typeof t}function je(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(e,t),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Fe(t){return t&&t._delegate?t._delegate:t}class Ve{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ue="[DEFAULT]";class Be{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Ae;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(Bd){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Bd){if(r)return null;throw Bd}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch(Bd){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(Bd){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===Ue?void 0:i),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return this.component?this.component.multipleInstances?t:Ue:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Be(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const qe=[];var He;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(He||(He={}));const Ke={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Ge=He.INFO,We={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Qe=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=We[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(t.name,":"),...o)};class $e{constructor(t){this.name=t,this._logLevel=Ge,this._logHandler=Qe,this._userLogHandler=null,qe.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in He))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?Ke[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}let Xe,Ye;const Je=new WeakMap,Ze=new WeakMap,tn=new WeakMap,en=new WeakMap,nn=new WeakMap;let rn={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ze.get(t);if("objectStoreNames"===e)return t.objectStoreNames||tn.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function on(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ye||(Ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(un(this),n),an(Je.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return an(t.apply(un(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=t.call(un(this),e,...r);return tn.set(o,e.sort?e.sort():[e]),an(o)}}function sn(t){return"function"===typeof t?on(t):(t instanceof IDBTransaction&&function(t){if(Ze.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));Ze.set(t,e)}(t),e=t,(Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,rn):t);var e}function an(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(an(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&Je.set(e,t)})).catch((()=>{})),nn.set(e,t),e}(t);if(en.has(t))return en.get(t);const e=sn(t);return e!==t&&(en.set(t,e),nn.set(e,t)),e}const un=t=>nn.get(t);function cn(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(t,e),a=an(s);return r&&s.addEventListener("upgradeneeded",(t=>{r(an(s.result),t.oldVersion,t.newVersion,an(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const ln=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],fn=new Map;function dn(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(fn.get(e))return fn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ln.includes(n))return;const o=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let o=e.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&e.done]))[0]};return fn.set(e,o),o}rn=(t=>u(u({},t),{},{get:(e,n,r)=>dn(e,n)||t.get(e,n,r),has:(e,n)=>!!dn(e,n)||t.has(e,n)}))(rn);class pn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const gn="@firebase/app",mn="0.10.17",yn=new $e("@firebase/app"),vn="@firebase/app-compat",wn="@firebase/analytics-compat",_n="@firebase/analytics",bn="@firebase/app-check-compat",En="@firebase/app-check",Tn="@firebase/auth",Sn="@firebase/auth-compat",Cn="@firebase/database",In="@firebase/data-connect",An="@firebase/database-compat",xn="@firebase/functions",Dn="@firebase/functions-compat",kn="@firebase/installations",Rn="@firebase/installations-compat",Nn="@firebase/messaging",On="@firebase/messaging-compat",Ln="@firebase/performance",Pn="@firebase/performance-compat",Mn="@firebase/remote-config",jn="@firebase/remote-config-compat",Fn="@firebase/storage",Vn="@firebase/storage-compat",Un="@firebase/firestore",Bn="@firebase/vertexai",zn="@firebase/firestore-compat",qn="firebase",Hn="[DEFAULT]",Kn={[gn]:"fire-core",[vn]:"fire-core-compat",[_n]:"fire-analytics",[wn]:"fire-analytics-compat",[En]:"fire-app-check",[bn]:"fire-app-check-compat",[Tn]:"fire-auth",[Sn]:"fire-auth-compat",[Cn]:"fire-rtdb",[In]:"fire-data-connect",[An]:"fire-rtdb-compat",[xn]:"fire-fn",[Dn]:"fire-fn-compat",[kn]:"fire-iid",[Rn]:"fire-iid-compat",[Nn]:"fire-fcm",[On]:"fire-fcm-compat",[Ln]:"fire-perf",[Pn]:"fire-perf-compat",[Mn]:"fire-rc",[jn]:"fire-rc-compat",[Fn]:"fire-gcs",[Vn]:"fire-gcs-compat",[Un]:"fire-fst",[zn]:"fire-fst-compat",[Bn]:"fire-vertex","fire-js":"fire-js",[qn]:"fire-js-all"},Gn=new Map,Wn=new Map,Qn=new Map;function $n(t,e){try{t.container.addComponent(e)}catch(Bd){yn.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),Bd)}}function Xn(t){const e=t.name;if(Qn.has(e))return yn.debug("There were multiple attempts to register component ".concat(e,".")),!1;Qn.set(e,t);for(const n of Gn.values())$n(n,t);for(const n of Wn.values())$n(n,t);return!0}function Yn(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Jn=new Oe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Zn{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ve("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}function tr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:Hn,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=Ie()),!n)throw Jn.create("no-options");const o=Gn.get(i);if(o){if(Pe(n,o.options)&&Pe(r,o.config))return o;throw Jn.create("duplicate-app",{appName:i})}const s=new ze(i);for(const u of Qn.values())s.addComponent(u);const a=new Zn(n,r,s);return Gn.set(i,a),a}function er(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn;const e=Gn.get(t);if(!e&&t===Hn&&Ie())return tr();if(!e)throw Jn.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let i=null!==(r=Kn[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const t=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return o&&t.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&t.push("and"),s&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void yn.warn(t.join(" "))}Xn(new Ve("".concat(i,"-version"),(()=>({library:i,version:e})),"VERSION"))}const rr="firebase-heartbeat-store";let ir=null;function or(){return ir||(ir=cn("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(rr)}catch(Bd){console.warn(Bd)}}}).catch((t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})}))),ir}async function sr(t,e){try{const n=(await or()).transaction(rr,"readwrite"),r=n.objectStore(rr);await r.put(e,ar(t)),await n.done}catch(Bd){if(Bd instanceof Ne)yn.warn(Bd.message);else{const e=Jn.create("idb-set",{originalErrorMessage:null===Bd||void 0===Bd?void 0:Bd.message});yn.warn(e.message)}}}function ar(t){return"".concat(t.name,"!").concat(t.options.appId)}class ur{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new lr(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cr();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Bd){yn.warn(Bd)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=cr(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),hr(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hr(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=be(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Bd){return yn.warn(Bd),""}}}function cr(){return(new Date).toISOString().substring(0,10)}class lr{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ke()&&Re().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await or()).transaction(rr),n=await e.objectStore(rr).get(ar(t));return await e.done,n}catch(Bd){if(Bd instanceof Ne)yn.warn(Bd.message);else{const e=Jn.create("idb-get",{originalErrorMessage:null===Bd||void 0===Bd?void 0:Bd.message});yn.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return sr(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return sr(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function hr(t){return be(JSON.stringify({version:2,heartbeats:t})).length}var fr;fr="",Xn(new Ve("platform-logger",(t=>new pn(t)),"PRIVATE")),Xn(new Ve("heartbeat",(t=>new ur(t)),"PRIVATE")),nr(gn,mn,fr),nr(gn,mn,"esm2017"),nr("fire-js","");nr("firebase","11.1.0","app");const dr="@firebase/installations",pr="0.6.11",gr=1e4,mr="w:".concat(pr),yr="FIS_v2",vr=36e5,wr=new Oe("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _r(t){return t instanceof Ne&&t.code.includes("request-failed")}function br(t){let{projectId:e}=t;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(e,"/installations")}function Er(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Tr(t,e){const n=(await e.json()).error;return wr.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Sr(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Cr(t,e){let{refreshToken:n}=e;const r=Sr(t);return r.append("Authorization",function(t){return"".concat(yr," ").concat(t)}(n)),r}async function Ir(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ar(t){return new Promise((e=>{setTimeout(e,t)}))}const xr=/^[cdef][\w-]{21}$/;function Dr(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return xr.test(e)?e:""}catch(t){return""}}function kr(t){return"".concat(t.appName,"!").concat(t.appId)}const Rr=new Map;function Nr(t,e){const n=kr(t);Or(n,e),function(t,e){const n=Pr();n&&n.postMessage({key:t,fid:e});Mr()}(n,e)}function Or(t,e){const n=Rr.get(t);if(n)for(const r of n)r(e)}let Lr=null;function Pr(){return!Lr&&"BroadcastChannel"in self&&(Lr=new BroadcastChannel("[Firebase] FID Change"),Lr.onmessage=t=>{Or(t.data.key,t.data.fid)}),Lr}function Mr(){0===Rr.size&&Lr&&(Lr.close(),Lr=null)}const jr="firebase-installations-store";let Fr=null;function Vr(){return Fr||(Fr=cn("firebase-installations-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(jr)}})),Fr}async function Ur(t,e){const n=kr(t),r=(await Vr()).transaction(jr,"readwrite"),i=r.objectStore(jr),o=await i.get(n);return await i.put(e,n),await r.done,o&&o.fid===e.fid||Nr(t,e.fid),e}async function Br(t){const e=kr(t),n=(await Vr()).transaction(jr,"readwrite");await n.objectStore(jr).delete(e),await n.done}async function zr(t,e){const n=kr(t),r=(await Vr()).transaction(jr,"readwrite"),i=r.objectStore(jr),o=await i.get(n),s=e(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Nr(t,s.fid),s}async function qr(t){let e;const n=await zr(t.appConfig,(n=>{const r=function(t){const e=t||{fid:Dr(),registrationStatus:0};return Gr(e)}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(wr.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:r}=t,{fid:i}=e;const o=br(n),s=Sr(n),a=r.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const u={fid:i,authVersion:yr,appId:n.appId,sdkVersion:mr},c={method:"POST",headers:s,body:JSON.stringify(u)},l=await Ir((()=>fetch(o,c)));if(l.ok){const t=await l.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:Er(t.authToken)}}throw await Tr("Create Installation",l)}(t,e);return Ur(t.appConfig,n)}catch(Bd){throw _r(Bd)&&409===Bd.customData.serverCode?await Br(t.appConfig):await Ur(t.appConfig,{fid:e.fid,registrationStatus:0}),Bd}}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Hr(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Hr(t){let e=await Kr(t.appConfig);for(;1===e.registrationStatus;)await Ar(100),e=await Kr(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await qr(t);return n||e}return e}function Kr(t){return zr(t,(t=>{if(!t)throw wr.create("installation-not-found");return Gr(t)}))}function Gr(t){return 1===(e=t).registrationStatus&&e.registrationTime+gr<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Wr(t,e){let{appConfig:n,heartbeatServiceProvider:r}=t;const i=function(t,e){let{fid:n}=e;return"".concat(br(t),"/").concat(n,"/authTokens:generate")}(n,e),o=Cr(n,e),s=r.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const a={installation:{sdkVersion:mr,appId:n.appId}},u={method:"POST",headers:o,body:JSON.stringify(a)},c=await Ir((()=>fetch(i,u)));if(c.ok){return Er(await c.json())}throw await Tr("Generate Auth Token",c)}async function Qr(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await zr(t.appConfig,(r=>{if(!Xr(r))throw wr.create("not-registered");const i=r.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vr}(t)}(i))return r;if(1===i.requestStatus)return e=async function(t,e){let n=await $r(t.appConfig);for(;1===n.authToken.requestStatus;)await Ar(100),n=await $r(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Qr(t,e):r}(t,n),r;{if(!navigator.onLine)throw wr.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return e=async function(t,e){try{const n=await Wr(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ur(t.appConfig,r),n}catch(Bd){if(!_r(Bd)||401!==Bd.customData.serverCode&&404!==Bd.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ur(t.appConfig,n)}else await Br(t.appConfig);throw Bd}}(t,n),n}}));return e?await e:r.authToken}function $r(t){return zr(t,(t=>{if(!Xr(t))throw wr.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+gr<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function Xr(t){return void 0!==t&&2===t.registrationStatus}async function Yr(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await qr(t);e&&await e}(n);return(await Qr(n,e)).token}function Jr(t){return wr.create("missing-app-config-values",{valueName:t})}const Zr="installations",ti=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Jr("App Configuration");if(!t.name)throw Jr("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jr(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Yn(e,"heartbeat"),_delete:()=>Promise.resolve()}},ei=t=>{const e=Yn(t.getProvider("app").getImmediate(),Zr).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:r}=await qr(e);return r?r.catch(console.error):Qr(e).catch(console.error),n.fid}(e),getToken:t=>Yr(e,t)}};Xn(new Ve(Zr,ti,"PUBLIC")),Xn(new Ve("installations-internal",ei,"PRIVATE")),nr(dr,pr),nr(dr,pr,"esm2017");const ni="analytics",ri="https://www.googletagmanager.com/gtag/js",ii=new $e("@firebase/analytics"),oi=new Oe("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function si(t){if(!t.startsWith(ri)){const e=oi.create("invalid-gtag-resource",{gtagURL:t});return ii.warn(e.message),""}return t}function ai(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function ui(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:si}),r=document.createElement("script"),i="".concat(ri,"?l=").concat(t,"&id=").concat(e);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ci(t,e,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=await ai(n);for(const n of t){const t=r.find((t=>t.measurementId===n)),i=t&&e[t.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(Bd){ii.error(Bd)}}(t,e,n,r,i)}else if("config"===i){const[i,o]=s;await async function(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const t=(await ai(n)).find((t=>t.measurementId===i));t&&await e[t.appId]}}catch(Bd){ii.error(Bd)}t("config",i,o)}(t,e,n,r,i,o)}else if("consent"===i){const[e,n]=s;t("consent",e,n)}else if("get"===i){const[e,n,r]=s;t("get",e,n,r)}else if("set"===i){const[e]=s;t("set",e)}else t(i,...s)}catch(Bd){ii.error(Bd)}}}const li=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function hi(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw oi.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw oi.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new pi;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),di({appId:r,apiKey:i,measurementId:o},s,a,e)}async function di(t,e,n){let{throttleEndTimeMillis:r,backoffCount:i}=e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:li;var s;const{appId:a,measurementId:u}=t;try{await function(t,e){return new Promise(((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((()=>{clearTimeout(o),r(oi.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(n,r)}catch(Bd){if(u)return ii.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Bd||void 0===Bd?void 0:Bd.message,"]")),{appId:a,measurementId:u};throw Bd}try{const e=await async function(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:hi(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let t="";try{const n=await s.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw oi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:t})}return s.json()}(t);return o.deleteThrottleMetadata(a),e}catch(Bd){const r=Bd;if(!function(t){if(!(t instanceof Ne)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r)){if(o.deleteThrottleMetadata(a),u)return ii.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:u};throw Bd}const c=503===Number(null===(s=null===r||void 0===r?void 0:r.customData)||void 0===s?void 0:s.httpStatus)?je(i,o.intervalMillis,30):je(i,o.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(a,l),ii.debug("Calling attemptFetch again in ".concat(c," millis")),di(t,l,n,o)}}class pi{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let gi,mi;function yi(t){mi=t}function vi(t){gi=t}async function wi(t,e,n,r,i,o,s){var a;const u=fi(t);u.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ii.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((t=>ii.error(t))),e.push(u);const c=async function(){if(!ke())return ii.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Re()}catch(Bd){return ii.warn(oi.create("indexeddb-unavailable",{errorInfo:null===Bd||void 0===Bd?void 0:Bd.toString()}).message),!1}return!0}().then((t=>t?r.getId():void 0)),[l,h]=await Promise.all([u,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ri)&&n.src.includes(t))return n;return null})(o)||ui(o,l.measurementId),mi&&(i("consent","default",mi),yi(void 0)),i("js",new Date);const f=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return f.origin="firebase",f.update=!0,null!=h&&(f.firebase_id=h),i("config",l.measurementId,f),gi&&(i("set",gi),vi(void 0)),l.measurementId}class _i{constructor(t){this.app=t}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},Ei=[];const Ti={};let Si,Ci,Ii="dataLayer",Ai="gtag",xi=!1;function Di(){const t=[];if(function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>"(".concat(e+1,") ").concat(t))).join(" "),n=oi.create("invalid-analytics-context",{errorInfo:e});ii.warn(n.message)}}function ki(t,e,n){Di();const r=t.options.appId;if(!r)throw oi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw oi.create("no-api-key");ii.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=bi[r])throw oi.create("already-exists",{id:r});if(!xi){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ii);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=ci(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(bi,Ei,Ti,Ii,Ai);Ci=t,Si=e,xi=!0}bi[r]=wi(t,Ei,Ti,e,Si,Ii,n);return new _i(t)}function Ri(t,e,n,r){t=Fe(t),async function(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=await e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Ci,bi[t.app.options.appId],e,n,r).catch((t=>ii.error(t)))}const Ni="@firebase/analytics",Oi="0.10.10";Xn(new Ve(ni,((t,e)=>{let{options:n}=e;return ki(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Xn(new Ve("analytics-internal",(function(t){try{const e=t.getProvider(ni).getImmediate();return{logEvent:(t,n,r)=>Ri(e,t,n,r)}}catch(Bd){throw oi.create("interop-component-reg-failed",{reason:Bd})}}),"PRIVATE")),nr(Ni,Oi),nr(Ni,Oi,"esm2017");var Li,Pi,Mi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ji={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,o=this.h,s=0;s<e;){if(0==o)for(;s<=r;)n(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(i[o++]=t.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<e;)if(i[o++]=t[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i={};function o(t){return-128<=t&&128>t?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],0>t?-1:0)})):new r([0|t],0>t?-1:0)}function s(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return f(s(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new r(e,0)}var a=o(0),u=o(1),c=o(16777216);function l(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function f(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new r(n,~t.h).add(u)}function d(t,e){return t.add(f(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(l(e))throw Error("division by zero");if(l(t))return new g(a,a);if(h(t))return e=m(f(t),e),new g(f(e.g),f(e.h));if(h(e))return e=m(t,f(e)),new g(f(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=e;0>=r.l(t);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!l(r);){var c=o.add(r);0>=c.l(t)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return e=d(t,i.j(e)),new g(i,e)}for(i=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(e);h(c)||0<c.l(t);)c=(o=s(n-=r)).j(e);l(o)&&(o=u),i=i.add(o),t=d(t,c)}return new g(i,t)}function y(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new r(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,o=[],s=0;s<i;s++)o[s]=0<e?t.i(s+n)>>>e|t.i(s+n+1)<<32-e:t.i(s+n);return new r(o,t.h)}(t=r.prototype).m=function(){if(h(this))return-f(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(l(this))return"0";if(h(this))return"-"+f(this).toString(t);for(var e=s(Math.pow(t,6)),n=this,r="";;){var i=m(n,e).g,o=((0<(n=d(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(l(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=d(this,t))?-1:l(t)?0:1},t.abs=function(){return h(this)?f(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,o=0;o<=e;o++){var s=i+(65535&this.i(o))+(65535&t.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(t.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(l(this)||l(t))return a;if(h(this))return h(t)?f(this).j(f(t)):f(f(this).j(t));if(h(t))return f(this.j(f(t)));if(0>this.l(c)&&0>t.l(c))return s(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<t.g.length;o++){var u=this.i(i)>>>16,d=65535&this.i(i),g=t.i(o)>>>16,m=65535&t.i(o);n[2*i+2*o]+=d*m,p(n,2*i+2*o),n[2*i+2*o+1]+=u*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=d*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=u*g,p(n,2*i+2*o+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new r(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Pi=ji.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return f(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+u),n);8>u?(u=s(Math.pow(n,u)),i=i.j(u).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Li=ji.Integer=r}).apply("undefined"!==typeof Mi?Mi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fi,Vi,Ui,Bi,zi,qi,Hi,Ki,Gi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wi={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Gi&&Gi];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];if(!(s in i))break t;i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function o(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function s(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function u(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:u).apply(null,arguments)}function l(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function f(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function d(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(o(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function w(t){const e={};for(const n in t)e[n]=t[n];return e}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<_.length;e++)n=_[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function E(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function T(t){i.setTimeout((()=>{throw t}),0)}function S(){var t=D;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var C=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new I),(t=>t.reset()));class I{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let A,x=!1,D=new class{constructor(){this.h=this.g=null}add(t,e){const n=C.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{const t=i.Promise.resolve(void 0);A=()=>{t.then(R)}};var R=()=>{for(var t;t=S();){try{t.h.call(t.g)}catch(n){T(n)}var e=C;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}x=!1};function N(){this.s=this.s,this.C=this.C}function O(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(n){}return t}();function P(t,e){if(O.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{m(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:M[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&P.aa.h.call(this)}}h(P,O);var M={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function B(t){this.src=t,this.g={},this.h=0}function z(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Array.prototype.indexOf.call(i,e,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(U(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function q(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.da&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=q(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new V(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),K={};function G(t,e,n,r,i){if(r&&r.once)return Q(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)G(t,e[o],n,r,i);return null}return n=et(n),t&&t[j]?t.K(e,n,s(r)?!!r.capture:!!r,i):W(t,e,n,!1,r,i)}function W(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,u=Z(t);if(u||(t[H]=u=new B(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=J;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)L||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Q(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Q(t,e[o],n,r,i);return null}return n=et(n),t&&t[j]?t.L(e,n,s(r)?!!r.capture:!!r,i):W(t,e,n,!0,r,i)}function $(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$(t,e[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=et(n),t&&t[j]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=q(o=t.g[e],n,r,i))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=q(e,n,r,i)),(n=-1<t?e[t]:null)&&X(n))}function X(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[j])z(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Z(e))?(z(n,t),0==n.h&&(n.src=null,e[H]=null)):U(t)}}}function Y(t){return t in K?K[t]:K[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new P(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&X(t),t=n.call(r,e)}return t}function Z(t){return(t=t[H])instanceof B?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){N.call(this),this.i=new B(this),this.M=this,this.F=null}function rt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"===typeof e)e=new O(e,t);else if(e instanceof O)e.target=e.target||t;else{var i=e;b(e=new O(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=it(s,r,!0,e)&&i}if(i=it(s=e.g=t,r,!0,e)&&i,i=it(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=it(s=e.g=n[o],r,!1,e)&&i}function it(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.da&&s.capture==n){var a=s.listener,u=s.ha||s.src;s.fa&&z(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function ot(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function st(t){t.g=ot((()=>{t.g=null,t.i&&(t.i=!1,st(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,N),nt.prototype[j]=!0,nt.prototype.removeEventListener=function(t,e,n,r){$(this,t,e,n,r)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)U(n[r]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},nt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class at extends N{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(t){N.call(this),this.h=t,this.g={}}h(ut,N);var ct=[];function lt(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&X(t)}),t),t.g={}}ut.prototype.N=function(){ut.aa.N.call(this),lt(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=i.JSON.stringify,ft=i.JSON.parse,dt=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){O.call(this,"d")}function wt(){O.call(this,"c")}h(vt,O),h(wt,O);var _t={},bt=null;function Et(){return bt=bt||new nt}function Tt(t){O.call(this,_t.La,t)}function St(t){const e=Et();rt(e,new Tt(e))}function Ct(t,e){O.call(this,_t.STAT_EVENT,t),this.stat=e}function It(t){const e=Et();rt(e,new Ct(e,t))}function At(t,e){O.call(this,_t.Ma,t),this.size=e}function xt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function Dt(){this.g=!0}function kt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ht(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}_t.La="serverreachability",h(Tt,O),_t.STAT_EVENT="statevent",h(Ct,O),_t.Ma="timingevent",h(At,O),Dt.prototype.xa=function(){this.g=!1},Dt.prototype.info=function(){};var Rt,Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ot={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Lt(){}function Pt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}h(Lt,pt),Lt.prototype.g=function(){return new XMLHttpRequest},Lt.prototype.i=function(){return{}},Rt=new Lt;var jt={},Ft={};function Vt(t,e,n){t.L=1,t.v=he(se(e)),t.m=n,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),qt(t),t.A=se(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Ce(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Mt,t.g=dn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(ct[0]=i.toString()),i=ct);for(var o=0;o<i.length;o++){var s=G(n,i[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}e=t.H?w(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),St(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Bt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function zt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ft:(n=Number(e.substring(n,r)),isNaN(n)?jt:(r+=1)+n>e.length?Ft:(e=e.slice(r,r+n),t.C=r+n,e))}function qt(t){t.S=Date.now()+t.I,Ht(t,t.I)}function Ht(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=xt(c(t.ba,t),e)}function Kt(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function Gt(t){0==t.j.G||t.J||un(t.j,t)}function Wt(t){Kt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,lt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Qt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Zt(n.h,t)))if(!t.K&&Zt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;an(n),Xe(n)}rn(n),It(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xt(c(n.Za,n),6e3));if(1>=Jt(n.h)&&n.ca){try{n.ca()}catch(l){}n.ca=void 0}}else ln(n,11)}else if((t.K||n.g==t)&&an(n),!p(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=c[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(te(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,le(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=t;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),s.K){ee(r.h,s);var a=s,u=r.L;u&&(a.I=u),a.B&&(Kt(a),qt(a)),r.g=s}else nn(r);0<n.i.length&&Je(n)}else"stop"!=c[0]&&"close"!=c[0]||ln(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ln(n,7):$e(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}St()}catch(l){}}Pt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==Ke(t)?e.j():this.Y(t)},Pt.prototype.Y=function(t){try{if(t==this.g)t:{const f=Ke(this.g);var e=this.g.Ba();this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||Ge(this.g)))){this.J||4!=f||7==e||St(),Kt(this);var n=this.g.Z();this.X=n;e:if(Bt(this)){var r=Ge(this.g);t="";var o=r.length,s=4==Ke(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wt(this),Gt(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(s&&e==o-1)});r.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(u)){var l=u;break e}}l=null}if(!(n=l)){this.o=!1,this.s=3,It(12),Wt(this),Gt(this);break t}kt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=zt(this,a),t==Ft){4==f&&(this.s=4,It(14),n=!1),kt(this.i,this.l,null,"[Incomplete Response]");break}if(t==jt){this.s=4,It(15),kt(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}kt(this.i,this.l,t,null),Qt(this,t)}if(Bt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=a.length||this.h.h||(this.s=1,It(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(h),h.M=!0,It(11))}}else kt(this.i,this.l,a,"[Invalid Chunked Response]"),Wt(this),Gt(this)}else kt(this.i,this.l,a,null),Qt(this,a);4==f&&Wt(this),this.o&&!this.J&&(4==f?un(this.j,this):(this.o=!1,qt(this)))}else(function(t){const e={};t=(t.g&&2<=Ke(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=E(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Wt(this),Gt(this)}}}catch(Qi){}},Pt.prototype.cancel=function(){this.J=!0,Wt(this)},Pt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(St(),It(17)),Wt(this),this.s=2,Gt(this)):Ht(this,this.S-t)};var $t=class{constructor(t,e){this.g=t,this.map=e}};function Xt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jt(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return f(t.i)}function re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(o(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(o(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(o(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}Xt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oe(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof oe){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,ue(this,t.s),this.l=t.l;var e=t.i,n=new be;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ce(this,n),this.m=t.m}else t&&(e=String(t).match(ie))?(this.h=!1,ae(this,e[1]||"",!0),this.o=fe(e[2]||""),this.g=fe(e[3]||"",!0),ue(this,e[4]),this.l=fe(e[5]||"",!0),ce(this,e[6]||"",!0),this.m=fe(e[7]||"")):(this.h=!1,this.i=new be(null,this.h))}function se(t){return new oe(t)}function ae(t,e,n){t.j=n?fe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ce(t,e,n){e instanceof be?(t.i=e,function(t,e){e&&!t.j&&(Ee(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Te(this,e),Ce(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=de(e,we)),t.i=new be(e,t.h))}function le(t,e,n){t.i.set(e,n)}function he(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function de(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(de(e,me,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(de(e,me,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(de(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",de(n,_e)),t.join("")};var ge,me=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,we=/[#\?@]/g,_e=/#/g;function be(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ee(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Te(t,e){Ee(t),e=Ie(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Se(t,e){return Ee(t),e=Ie(t,e),t.g.has(e)}function Ce(t,e,n){Te(t,e),0<n.length&&(t.i=null,t.g.set(Ie(t,e),f(n)),t.h+=n.length)}function Ie(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ae(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function xe(){this.g=new dt}function De(t,e,n){const r=n||"";try{re(t,(function(t,n){let i=t;s(t)&&(i=ht(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Bd){throw e.push(r+"type="+encodeURIComponent("_badmap")),Bd}}function ke(t){this.l=t.Ub||null,this.j=t.eb||!1}function Re(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ne(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Oe(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Le(t)}function Le(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Pe(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Me(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Pe(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):le(t,e,n))}function je(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=be.prototype).add=function(t,e){Ee(this),this.i=null,t=Ie(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){Ee(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){Ee(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){Ee(this);let e=[];if("string"===typeof t)Se(this,t)&&(e=e.concat(this.g.get(Ie(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return Ee(this),this.i=null,Se(this,t=Ie(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")},h(ke,pt),ke.prototype.g=function(){return new Re(this.l,this.j)},ke.prototype.i=(ge={},function(){return ge}),h(Re,nt),(t=Re.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Le(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oe(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Le(this)),this.g&&(this.readyState=3,Le(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ne(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Oe(this):Le(this),3==this.readyState&&Ne(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Oe(this))},t.Qa=function(t){this.g&&(this.response=t,Oe(this))},t.ga=function(){this.g&&Oe(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Re.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(je,nt);var Fe=/^https?$/i,Ve=["POST","PUT"];function Ue(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Be(t),qe(t)}function Be(t){t.A||(t.A=!0,rt(t,"complete"),rt(t,"error"))}function ze(t){if(t.h&&"undefined"!=typeof r&&(!t.v[1]||4!=Ke(t)||2!=t.Z()))if(t.u&&4==Ke(t))ot(t.Ea,0,t);else if(rt(t,"readystatechange"),4==Ke(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var o;if(o=0===r){var s=String(t.D).match(ie)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Fe.test(s?s.toLowerCase():"")}n=o}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var a=2<Ke(t)?t.g.statusText:""}catch(u){a=""}t.l=a+" ["+t.Z()+"]",Be(t)}}finally{qe(t)}}}function qe(t,e){if(t.g){He(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch(Bd){}}}function He(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function Ke(t){return t.g?t.g.readyState:0}function Ge(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Yi){return null}}function We(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qe(t){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=We("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=We("baseRetryDelayMs",5e3,t),this.cb=We("retryDelaySeedMs",1e4,t),this.Wa=We("forwardChannelMaxRetries",2,t),this.wa=We("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Xt(t&&t.concurrentRequestLimit),this.Da=new xe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $e(t){if(Ye(t),3==t.G){var e=t.U++,n=se(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),tn(t,n),(e=new Pt(t,t.j,e)).L=2,e.v=he(se(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=dn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),qt(e)}hn(t)}function Xe(t){t.g&&(on(t),t.g.cancel(),t.g=null)}function Ye(t){Xe(t),t.u&&(i.clearTimeout(t.u),t.u=null),an(t),t.h.cancel(),t.s&&("number"===typeof t.s&&i.clearTimeout(t.s),t.s=null)}function Je(t){if(!Yt(t.h)&&!t.s){t.s=!0;var e=t.Ga;A||k(),x||(A(),x=!0),D.add(e,t),t.B=0}}function Ze(t,e){var n;n=e?e.l:t.U++;const r=se(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.T),tn(t,r),t.m&&t.o&&Me(r,t.m,t.o),n=new Pt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Vt(n,r,e)}function tn(t,e){t.H&&v(t.H,(function(t,n){le(e,n,t)})),t.l&&re({},(function(t,n){le(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=e,0>n)e=Math.max(0,i[s].g-100),o=!1;else try{De(a,t,"req"+n+"_")}catch(Qi){r&&r(a)}}if(o){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;A||k(),x||(A(),x=!0),D.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=xt(c(t.Fa,t),cn(t,t.v)),t.v++,!0)}function on(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function sn(t){t.g=new Pt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=se(t.qa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.T),le(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&le(e,"TO",t.ja),le(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Me(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(se(e)),n.m=null,n.P=!0,Ut(n,t)}function an(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function un(t,e){var n=null;if(t.g==e){an(t),on(t),t.g=null;var r=2}else{if(!Zt(t.h,e))return;n=e.D,ee(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;rt(r=Et(),new At(r,n)),Je(t)}else nn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(Jt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=xt(c(t.Ga,t,e),cn(t,t.B)),t.B++,!0))}(t,e)||2==r&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ln(t,5);break;case 4:ln(t,10);break;case 3:ln(t,6);break;default:ln(t,2)}}function cn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function ln(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new oe(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ae(r,"https"),he(r),e?function(t,e){const n=new Dt;if(i.Image){const r=new Image;r.onload=l(Ae,n,"TestLoadImage: loaded",!0,e,r),r.onerror=l(Ae,n,"TestLoadImage: error",!1,e,r),r.onabort=l(Ae,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=l(Ae,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Dt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ae(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Ae(0,0,!0,e):Ae(0,0,!1,e)})).catch((()=>{clearTimeout(r),Ae(0,0,!1,e)}))}(r.toString(),n)}else It(2);t.G=0,t.l&&t.l.sa(e),hn(t),Ye(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(d(t.ka,e),d(t.ka,t.i),t.h.i.length=0,f(t.i),t.i.length=0),t.l.ra()}}function fn(t,e,n){var r=n instanceof oe?se(n):new oe(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ue(r,r.s);else{var o=i.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var s=new oe(null);r&&ae(s,r),e&&(s.g=e),o&&ue(s,o),n&&(s.l=n),r=s}return n=t.D,e=t.ya,n&&e&&le(r,n,e),le(r,"VER",t.la),tn(t,r),r}function dn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new je(new ke({eb:n})):new je(t.pa)).Ha(t.J),e}function pn(){}function gn(){}function mn(t,e){nt.call(this),this.g=new Qe(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new wn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){wt.call(this),this.status=1}function wn(t){this.g=t}(t=je.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?gt(this.o):gt(Rt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(s){return void Ue(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),o=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ve,e,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{He(this),this.u=!0,this.g.send(t),this.u=!1}catch(s){Ue(this,s)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),qe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ze(this):this.bb())},t.bb=function(){ze(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Ke(this)?this.g.status:-1}catch(ge){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(ge){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ft(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Qe.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){It(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Je(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Pt(this,this.j,t);let o=this.o;if(this.S&&(o?(o=w(o),b(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,i,e),le(n=se(this.I),"RID",t),le(n,"CVER",22),this.D&&le(n,"X-HTTP-Session-Id",this.D),tn(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Pe(o)))+"&"+e:this.m&&Me(n,this.m,o)),te(this.h,i),this.Ua&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.T=!0,Vt(i,n,null)):Vt(i,n,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||Yt(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=xt(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Xe(this),sn(this))},t.Za=function(){null!=this.C&&(this.C=null,Xe(this),rn(this),It(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},gn.prototype.g=function(t,e){return new mn(t,e)},h(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){$e(this.g)},mn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new $t(e.Ya++,t)),3==e.G&&Je(e)},mn.prototype.N=function(){this.g.l=null,delete this.j,$e(this.g),delete this.g,mn.aa.N.call(this)},h(yn,vt),h(vn,wt),h(wn,pn),wn.prototype.ua=function(){rt(this.g,"a")},wn.prototype.ta=function(t){rt(this.g,new yn(t))},wn.prototype.sa=function(t){rt(this.g,new vn)},wn.prototype.ra=function(){rt(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ki=Wi.createWebChannelTransport=function(){return new gn},Hi=Wi.getStatEventTarget=function(){return Et()},qi=Wi.Event=_t,zi=Wi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,Bi=Wi.ErrorCode=Nt,Ot.COMPLETE="complete",Ui=Wi.EventType=Ot,mt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Vi=Wi.WebChannel=mt,Wi.FetchXmlHttpFactory=ke,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Fi=Wi.XhrIo=je}).apply("undefined"!==typeof Gi?Gi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qi="@firebase/firestore";class $i{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let Xi="11.0.2";const Yi=new $e("@firebase/firestore");function Ji(){return Yi.logLevel}function Zi(t){if(Yi.logLevel<=He.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(no);Yi.debug("Firestore (".concat(Xi,"): ").concat(t),...i)}}function to(t){if(Yi.logLevel<=He.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(no);Yi.error("Firestore (".concat(Xi,"): ").concat(t),...i)}}function eo(t){if(Yi.logLevel<=He.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(no);Yi.warn("Firestore (".concat(Xi,"): ").concat(t),...i)}}function no(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function ro(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(Xi,") INTERNAL ASSERTION FAILED: ")+t;throw to(e),new Error(e)}function io(t,e){t||ro()}function oo(t,e){return t}const so={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ao extends Ne{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class uo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class co{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class lo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e($i.UNAUTHENTICATED)))}shutdown(){}}class ho{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class fo{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){io(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new uo,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},s=t=>{Zi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((t=>s(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(Zi("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new uo)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Zi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(io("string"==typeof e.accessToken),new co(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return io(null===t||"string"==typeof t),new $i(t)}}class po{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class go{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new po(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e($i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mo{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yo{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){io(void 0===this.o);const n=t=>{null!=t.error&&Zi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,Zi("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Zi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Zi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(io("string"==typeof t.token),this.R=t.token,new mo(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vo(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class wo{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=vo(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function _o(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Eo{static now(){return Eo.fromMillis(Date.now())}static fromDate(t){return Eo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Eo(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ao(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ao(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ao(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ao(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_o(this.nanoseconds,t.nanoseconds):_o(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class To{static fromTimestamp(t){return new To(t)}static min(){return new To(new Eo(0,0))}static max(){return new To(new Eo(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class So{constructor(t,e,n){void 0===e?e=0:e>t.length&&ro(),void 0===n?n=t.length-e:n>t.length-e&&ro(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===So.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof So?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Co extends So{construct(t,e,n){return new Co(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ao(so.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));t.push(...i.split("/").filter((t=>t.length>0)))}return new Co(t)}static emptyPath(){return new Co([])}}const Io=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ao extends So{construct(t,e,n){return new Ao(t,e,n)}static isValidIdentifier(t){return Io.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ao.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ao(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ao(so.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new ao(so.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new ao(so.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new ao(so.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ao(e)}static emptyPath(){return new Ao([])}}class xo{constructor(t){this.path=t}static fromPath(t){return new xo(Co.fromString(t))}static fromName(t){return new xo(Co.fromString(t).popFirst(5))}static empty(){return new xo(Co.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Co.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Co.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xo(new Co(t.slice()))}}class Do{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}Do.UNKNOWN_ID=-1;function ko(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=To.fromTimestamp(1e9===r?new Eo(n+1,0):new Eo(n,r));return new No(i,xo.empty(),e)}function Ro(t){return new No(t.readTime,t.key,-1)}class No{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new No(To.min(),xo.empty(),-1)}static max(){return new No(To.max(),xo.empty(),-1)}}function Oo(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=xo.comparator(t.documentKey,e.documentKey),0!==n?n:_o(t.largestBatchId,e.largestBatchId))}const Lo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Po{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Mo(t){if(t.code!==so.FAILED_PRECONDITION||t.message!==Lo)throw t;Zi("LocalStore","Unexpectedly lost primary lease")}class jo{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ro(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new jo(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof jo?e:jo.resolve(e)}catch(t){return jo.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):jo.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):jo.reject(e)}static resolve(t){return new jo(((e,n)=>{e(t)}))}static reject(t){return new jo(((e,n)=>{n(t)}))}static waitFor(t){return new jo(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=jo.resolve(!1);for(const n of t)e=e.next((t=>t?jo.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new jo(((n,r)=>{const i=t.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const u=a;e(t[u]).next((t=>{o[u]=t,++s,s===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new jo(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function Fo(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(t){return"IndexedDbTransactionError"===t.name}class Uo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function Bo(t){return null==t}function zo(t){return 0===t&&1/t==-1/0}function qo(t){return"number"==typeof t&&Number.isInteger(t)&&!zo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ho(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Go(e)),e=Ko(t.get(n),e);return Go(e)}function Ko(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Go(t){return t+"\x01\x01"}Uo.oe=-1;const Wo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$o=Qo,Xo=[...$o,"indexConfiguration","indexState","indexEntries"];function Yo(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zo(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ts{constructor(t,e){this.comparator=t,this.root=e||ns.EMPTY}insert(t,e){return new ts(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(t){return new ts(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ns.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new es(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new es(this.root,t,this.comparator,!1)}getReverseIterator(){return new es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new es(this.root,t,this.comparator,!0)}}class es{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ns{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ns.RED,this.left=null!=r?r:ns.EMPTY,this.right=null!=i?i:ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new ns(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ns.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ro();if(this.right.isRed())throw ro();const t=this.left.check();if(t!==this.right.check())throw ro();return t+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw ro()}get value(){throw ro()}get color(){throw ro()}get left(){throw ro()}get right(){throw ro()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ns(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rs{constructor(t){this.comparator=t,this.data=new ts(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new is(this.data.getIterator())}getIteratorFrom(t){return new is(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof rs))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new rs(this.comparator);return e.data=t,e}}class is{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(t){this.fields=t,t.sort(Ao.comparator)}static empty(){return new os([])}unionWith(t){let e=new rs(Ao.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new os(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ss extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class as{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new ss("Invalid base64 string: "+t):t}}(t);return new as(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new as(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _o(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}as.EMPTY_BYTE_STRING=new as("");const us=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(io(!!t),"string"==typeof t){let e=0;const n=us.exec(t);if(io(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ls(t.seconds),nanos:ls(t.nanos)}}function ls(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hs(t){return"string"==typeof t?as.fromBase64String(t):as.fromUint8Array(t)}function fs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ds(t){const e=t.mapValue.fields.__previous_value__;return fs(e)?ds(e):e}function ps(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new Eo(e.seconds,e.nanos)}class gs{constructor(t,e,n,r,i,o,s,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=u}}class ms{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ms("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ms&&t.projectId===this.projectId&&t.database===this.database}}const ys={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fs(t)?4:Ps(t)?9007199254740991:Os(t)?10:11:ro()}function ws(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ps(t).isEqual(ps(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=cs(t.timestampValue),r=cs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hs(t.bytesValue).isEqual(hs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ls(t.geoPointValue.latitude)===ls(e.geoPointValue.latitude)&&ls(t.geoPointValue.longitude)===ls(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ls(t.integerValue)===ls(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ls(t.doubleValue),r=ls(e.doubleValue);return n===r?zo(n)===zo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Yo(n)!==Yo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ws(n[i],r[i])))return!1;return!0}(t,e);default:return ro()}}function _s(t,e){return void 0!==(t.values||[]).find((t=>ws(t,e)))}function bs(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return _o(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _o(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ls(t.integerValue||t.doubleValue),r=ls(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Es(t.timestampValue,e.timestampValue);case 4:return Es(ps(t),ps(e));case 5:return _o(t.stringValue,e.stringValue);case 6:return function(t,e){const n=hs(t),r=hs(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=_o(n[i],r[i]);if(0!==t)return t}return _o(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=_o(ls(t.latitude),ls(e.latitude));return 0!==n?n:_o(ls(t.longitude),ls(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ts(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,i,o;const s=t.fields||{},a=e.fields||{},u=null===(n=s.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,l=_o((null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==l?l:Ts(u,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===ys.mapValue&&e===ys.mapValue)return 0;if(t===ys.mapValue)return 1;if(e===ys.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const t=_o(r[s],o[s]);if(0!==t)return t;const e=bs(n[r[s]],i[o[s]]);if(0!==e)return e}return _o(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ro()}}function Es(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _o(t,e);const n=cs(t),r=cs(e),i=_o(n.seconds,r.seconds);return 0!==i?i:_o(n.nanos,r.nanos)}function Ts(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=bs(n[i],r[i]);if(t)return t}return _o(n.length,r.length)}function Ss(t){return Cs(t)}function Cs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=cs(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return hs(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return xo.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Cs(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+="".concat(i,":").concat(Cs(t.fields[i]));return n+"}"}(t.mapValue):ro()}function Is(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ds(t);return e?16+Is(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Is(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Jo(t.fields,((t,n)=>{e+=t.length+Is(n)})),e}(t.mapValue);default:throw ro()}}function As(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function xs(t){return!!t&&"integerValue"in t}function Ds(t){return!!t&&"arrayValue"in t}function ks(t){return!!t&&"nullValue"in t}function Rs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ns(t){return!!t&&"mapValue"in t}function Os(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jo(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ls(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ps(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ms{constructor(t){this.value=t}static empty(){return new Ms({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Ns(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ls(e)}setAll(t){let e=Ao.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Ls(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Ns(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ws(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Ns(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Jo(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Ms(Ls(this.value))}}function js(t){const e=[];return Jo(t.fields,((t,n)=>{const r=new Ao([t]);if(Ns(n)){const t=js(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new os(e)}class Fs{constructor(t,e,n,r,i,o,s){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(t){return new Fs(t,0,To.min(),To.min(),To.min(),Ms.empty(),0)}static newFoundDocument(t,e,n,r){return new Fs(t,1,e,To.min(),n,r,0)}static newNoDocument(t,e){return new Fs(t,2,e,To.min(),To.min(),Ms.empty(),0)}static newUnknownDocument(t,e){return new Fs(t,3,e,To.min(),To.min(),Ms.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(To.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=To.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Fs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Vs{constructor(t,e){this.position=t,this.inclusive=e}}function Us(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?xo.comparator(xo.fromName(s.referenceValue),n.key):bs(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Bs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}class zs{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function qs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Hs{}class Ks extends Hs{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Zs(t,e,n):"array-contains"===e?new ra(t,n):"in"===e?new ia(t,n):"not-in"===e?new oa(t,n):"array-contains-any"===e?new sa(t,n):new Ks(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new ta(t,n):new ea(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(bs(e,this.value)):null!==e&&vs(this.value)===vs(e)&&this.matchesComparison(bs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ro()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends Hs{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Gs(t,e)}matches(t){return Ws(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ws(t){return"and"===t.op}function Qs(t){return $s(t)&&Ws(t)}function $s(t){for(const e of t.filters)if(e instanceof Gs)return!1;return!0}function Xs(t){if(t instanceof Ks)return t.field.canonicalString()+t.op.toString()+Ss(t.value);if(Qs(t))return t.filters.map((t=>Xs(t))).join(",");{const e=t.filters.map((t=>Xs(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function Ys(t,e){return t instanceof Ks?function(t,e){return e instanceof Ks&&t.op===e.op&&t.field.isEqual(e.field)&&ws(t.value,e.value)}(t,e):t instanceof Gs?function(t,e){return e instanceof Gs&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Ys(n,e.filters[r])),!0)}(t,e):void ro()}function Js(t){return t instanceof Ks?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(Ss(t.value))}(t):t instanceof Gs?function(t){return t.op.toString()+" {"+t.getFilters().map(Js).join(" ,")+"}"}(t):"Filter"}class Zs extends Ks{constructor(t,e,n){super(t,e,n),this.key=xo.fromName(n.referenceValue)}matches(t){const e=xo.comparator(t.key,this.key);return this.matchesComparison(e)}}class ta extends Ks{constructor(t,e){super(t,"in",e),this.keys=na("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class ea extends Ks{constructor(t,e){super(t,"not-in",e),this.keys=na("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function na(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>xo.fromName(t.referenceValue)))}class ra extends Ks{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ds(e)&&_s(e.arrayValue,this.value)}}class ia extends Ks{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&_s(this.value.arrayValue,e)}}class oa extends Ks{constructor(t,e){super(t,"not-in",e)}matches(t){if(_s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!_s(this.value.arrayValue,e)}}class sa extends Ks{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ds(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>_s(this.value.arrayValue,t)))}}class aa{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function ua(t){return new aa(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ca(t){const e=oo(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Xs(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Bo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Ss(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Ss(t))).join(",")),e.ue=t}return e.ue}function la(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ys(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bs(t.startAt,e.startAt)&&Bs(t.endAt,e.endAt)}function ha(t){return xo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class fa{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function da(t,e,n,r,i,o,s,a){return new fa(t,e,n,r,i,o,s,a)}function pa(t){return new fa(t)}function ga(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ma(t){return null!==t.collectionGroup}function ya(t){const e=oo(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new rs(Ao.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new zs(r,n))})),t.has(Ao.keyField().canonicalString())||e.ce.push(new zs(Ao.keyField(),n))}return e.ce}function va(t){const e=oo(t);return e.le||(e.le=wa(e,ya(t))),e.le}function wa(t,e){if("F"===t.limitType)return ua(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new zs(t.field,e)}));const n=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;return ua(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _a(t,e){const n=t.filters.concat([e]);return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ba(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ea(t,e){return la(va(t),va(e))&&t.limitType===e.limitType}function Ta(t){return"".concat(ca(va(t)),"|lt:").concat(t.limitType)}function Sa(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>Js(t))).join(", "),"]")),Bo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Ss(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Ss(t))).join(",")),"Target(".concat(e,")")}(va(t)),"; limitType=").concat(t.limitType,")")}function Ca(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):xo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of ya(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Us(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,ya(t),e))&&!(t.endAt&&!function(t,e,n){const r=Us(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,ya(t),e))}(t,e)}function Ia(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Aa(t){return(e,n)=>{let r=!1;for(const i of ya(t)){const t=xa(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function xa(t,e,n){const r=t.field.isKeyField()?xo.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?bs(r,i):ro()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ro()}}class Da{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Jo(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Zo(this.inner)}size(){return this.innerSize}}const ka=new ts(xo.comparator);function Ra(){return ka}const Na=new ts(xo.comparator);function Oa(){let t=Na;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function La(t){let e=Na;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Pa(){return ja()}function Ma(){return ja()}function ja(){return new Da((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Fa=new ts(xo.comparator),Va=new rs(xo.comparator);function Ua(){let t=Va;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const Ba=new rs(_o);function za(){return Ba}function qa(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(e)?"-0":e}}function Ha(t){return{integerValue:""+t}}function Ka(t,e){return qo(e)?Ha(e):qa(t,e)}class Ga{constructor(){this._=void 0}}function Wa(t,e,n){return t instanceof Xa?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&fs(e)&&(e=ds(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ya?Ja(t,e):t instanceof Za?tu(t,e):function(t,e){const n=$a(t,e),r=nu(n)+nu(t.Pe);return xs(n)&&xs(t.Pe)?Ha(r):qa(t.serializer,r)}(t,e)}function Qa(t,e,n){return t instanceof Ya?Ja(t,e):t instanceof Za?tu(t,e):n}function $a(t,e){return t instanceof eu?function(t){return xs(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Xa extends Ga{}class Ya extends Ga{constructor(t){super(),this.elements=t}}function Ja(t,e){const n=ru(e);for(const r of t.elements)n.some((t=>ws(t,r)))||n.push(r);return{arrayValue:{values:n}}}class Za extends Ga{constructor(t){super(),this.elements=t}}function tu(t,e){let n=ru(e);for(const r of t.elements)n=n.filter((t=>!ws(t,r)));return{arrayValue:{values:n}}}class eu extends Ga{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function nu(t){return ls(t.integerValue||t.doubleValue)}function ru(t){return Ds(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class iu{constructor(t,e){this.version=t,this.transformResults=e}}class ou{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ou}static exists(t){return new ou(void 0,t)}static updateTime(t){return new ou(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function su(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class au{}function uu(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new vu(t.key,ou.none()):new du(t.key,t.data,ou.none());{const n=t.data,r=Ms.empty();let i=new rs(Ao.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new pu(t.key,r,new os(i.toArray()),ou.none())}}function cu(t,e,n){t instanceof du?function(t,e,n){const r=t.value.clone(),i=mu(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof pu?function(t,e,n){if(!su(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=mu(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(gu(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function lu(t,e,n,r){return t instanceof du?function(t,e,n,r){if(!su(t.precondition,e))return n;const i=t.value.clone(),o=yu(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof pu?function(t,e,n,r){if(!su(t.precondition,e))return n;const i=yu(t.fieldTransforms,r,e),o=e.data;return o.setAll(gu(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return su(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function hu(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=$a(r.transform,t||null);null!=i&&(null===n&&(n=Ms.empty()),n.set(r.field,i))}return n||null}function fu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&bo(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ya&&e instanceof Ya||t instanceof Za&&e instanceof Za?bo(t.elements,e.elements,ws):t instanceof eu&&e instanceof eu?ws(t.Pe,e.Pe):t instanceof Xa&&e instanceof Xa}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends au{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pu extends au{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gu(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function mu(t,e,n){const r=new Map;io(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Qa(s,a,n[i]))}return r}function yu(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,Wa(t,o,e))}return r}class vu extends au{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wu extends au{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _u{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&cu(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=lu(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=lu(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Ma();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=e.has(r.key)?null:s;const a=uu(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(To.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ua())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,((t,e)=>fu(t,e)))&&bo(this.baseMutations,t.baseMutations,((t,e)=>fu(t,e)))}}class bu{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){io(t.mutations.length===n.length);let r=Fa;const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new bu(t,e,n,r)}}class Eu{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Tu{constructor(t,e){this.count=t,this.unchangedNames=e}}var Su,Cu;function Iu(t){switch(t){default:return ro();case so.CANCELLED:case so.UNKNOWN:case so.DEADLINE_EXCEEDED:case so.RESOURCE_EXHAUSTED:case so.INTERNAL:case so.UNAVAILABLE:case so.UNAUTHENTICATED:return!1;case so.INVALID_ARGUMENT:case so.NOT_FOUND:case so.ALREADY_EXISTS:case so.PERMISSION_DENIED:case so.FAILED_PRECONDITION:case so.ABORTED:case so.OUT_OF_RANGE:case so.UNIMPLEMENTED:case so.DATA_LOSS:return!0}}function Au(t){if(void 0===t)return to("GRPC error has no .code"),so.UNKNOWN;switch(t){case Su.OK:return so.OK;case Su.CANCELLED:return so.CANCELLED;case Su.UNKNOWN:return so.UNKNOWN;case Su.DEADLINE_EXCEEDED:return so.DEADLINE_EXCEEDED;case Su.RESOURCE_EXHAUSTED:return so.RESOURCE_EXHAUSTED;case Su.INTERNAL:return so.INTERNAL;case Su.UNAVAILABLE:return so.UNAVAILABLE;case Su.UNAUTHENTICATED:return so.UNAUTHENTICATED;case Su.INVALID_ARGUMENT:return so.INVALID_ARGUMENT;case Su.NOT_FOUND:return so.NOT_FOUND;case Su.ALREADY_EXISTS:return so.ALREADY_EXISTS;case Su.PERMISSION_DENIED:return so.PERMISSION_DENIED;case Su.FAILED_PRECONDITION:return so.FAILED_PRECONDITION;case Su.ABORTED:return so.ABORTED;case Su.OUT_OF_RANGE:return so.OUT_OF_RANGE;case Su.UNIMPLEMENTED:return so.UNIMPLEMENTED;case Su.DATA_LOSS:return so.DATA_LOSS;default:return ro()}}(Cu=Su||(Su={}))[Cu.OK=0]="OK",Cu[Cu.CANCELLED=1]="CANCELLED",Cu[Cu.UNKNOWN=2]="UNKNOWN",Cu[Cu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cu[Cu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cu[Cu.NOT_FOUND=5]="NOT_FOUND",Cu[Cu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cu[Cu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cu[Cu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cu[Cu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cu[Cu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cu[Cu.ABORTED=10]="ABORTED",Cu[Cu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cu[Cu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cu[Cu.INTERNAL=13]="INTERNAL",Cu[Cu.UNAVAILABLE=14]="UNAVAILABLE",Cu[Cu.DATA_LOSS=15]="DATA_LOSS";let xu=null;function Du(){return new TextEncoder}const ku=new Li([4294967295,4294967295],0);function Ru(t){const e=Du().encode(t),n=new Pi;return n.update(e),new Uint8Array(n.digest())}function Nu(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,o],0)]}class Ou{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Lu("Invalid padding: ".concat(e));if(n<0)throw new Lu("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new Lu("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new Lu("Invalid padding when bitmap length is 0: ".concat(e));this.Te=8*t.length-e,this.Ie=Li.fromNumber(this.Te)}Ee(t,e,n){let r=t.add(e.multiply(Li.fromNumber(n)));return 1===r.compare(ku)&&(r=new Li([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=Ru(t),[n,r]=Nu(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);if(!this.de(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Ou(i,r,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.Te)return;const e=Ru(t),[n,r]=Nu(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pu{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Mu.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Pu(To.min(),r,new ts(_o),Ra(),Ua())}}class Mu{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Mu(n,e,Ua(),Ua(),Ua())}}class ju{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class Fu{constructor(t,e){this.targetId=t,this.me=e}}class Vu{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:as.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Uu{constructor(){this.fe=0,this.ge=qu(),this.pe=as.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ua(),e=Ua(),n=Ua();return this.ge.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ro()}})),new Mu(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=qu()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,io(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bu{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ra(),this.qe=zu(),this.Qe=zu(),this.Ke=new ts(_o)}$e(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.je(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.De(t.resumeToken));break;default:ro()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.me.count,r=this.Ye(e);if(r){const i=r.target;if(ha(i))if(0===n){const t=new xo(i.path);this.We(e,t,Fs.newNoDocument(t,To.min()))}else io(1===n);else{const r=this.Ze(e);if(r!==n){const n=this.Xe(t),i=n?this.et(n,t,r):1;if(0!==i){this.He(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==xu||xu.tt(function(t,e,n,r,i){var o,s,a,u,c,l;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},f=e.unchangedNames;return f&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==f?void 0:f.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(u=null===(a=null===(s=null==f?void 0:f.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==f?void 0:f.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.me,this.Le.nt(),n,i))}}}}Xe(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let o,s;try{o=hs(n).toUint8Array()}catch(t){if(t instanceof ss)return eo("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{s=new Ou(o,r,i)}catch(t){return eo(t instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===s.Te?null:s}et(t,e,n){return e.me.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.mightContain(o)||(this.We(e,n,null),r++)})),r}it(t){const e=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ha(i.target)){const e=new xo(i.target.path);this.st(e).has(r)||this.ot(r,e)||this.We(r,e,Fs.newNoDocument(e,t))}n.be&&(e.set(r,n.ve()),n.Ce())}}));let n=Ua();this.Qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const r=new Pu(t,e,this.Ke,this.ke,n);return this.ke=Ra(),this.qe=zu(),this.Qe=zu(),this.Ke=new ts(_o),r}Ue(t,e){if(!this.je(t))return;const n=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.ot(t,e)?r.Fe(e,1):r.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Be.get(t);return e||(e=new Uu,this.Be.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new rs(_o),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new rs(_o),this.qe=this.qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Zi("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new Uu),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}ot(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function zu(){return new ts(xo.comparator)}function qu(){return new ts(xo.comparator)}const Hu={asc:"ASCENDING",desc:"DESCENDING"},Ku={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gu={and:"AND",or:"OR"};class Wu{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Qu(t,e){return t.useProto3Json||Bo(e)?e:{value:e}}function $u(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xu(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yu(t,e){return $u(t,e.toTimestamp())}function Ju(t){return io(!!t),To.fromTimestamp(function(t){const e=cs(t);return new Eo(e.seconds,e.nanos)}(t))}function Zu(t,e){return tc(t,e).canonicalString()}function tc(t,e){const n=function(t){return new Co(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function ec(t){const e=Co.fromString(t);return io(bc(e)),e}function nc(t,e){return Zu(t.databaseId,e.path)}function rc(t,e){const n=ec(e);if(n.get(1)!==t.databaseId.projectId)throw new ao(so.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ao(so.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xo(ac(n))}function ic(t,e){return Zu(t.databaseId,e)}function oc(t){const e=ec(t);return 4===e.length?Co.emptyPath():ac(e)}function sc(t){return new Co(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ac(t){return io(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uc(t,e,n){return{name:nc(t,e),fields:n.value.mapValue.fields}}function cc(t,e){let n;if(e instanceof du)n={update:uc(t,e.key,e.value)};else if(e instanceof vu)n={delete:nc(t,e.key)};else if(e instanceof pu)n={update:uc(t,e.key,e.data),updateMask:_c(e.fieldMask)};else{if(!(e instanceof wu))return ro();n={verify:nc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Xa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ya)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Za)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof eu)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw ro()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ro()}(t,e.precondition)),n}function lc(t,e){return{documents:[ic(t,e.path)]}}function hc(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ic(t,i);const o=function(t){if(0!==t.length)return wc(Gs.create(t,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:yc(t.field),direction:pc(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Qu(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ct:n,parent:i}}function fc(t){let e=oc(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){io(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=dc(t);return e instanceof Gs&&Qs(e)?e.getFilters():[e]}(n.where));let s=[];n.orderBy&&(s=function(t){return t.map((t=>function(t){return new zs(vc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Bo(e)?null:e}(n.limit));let u=null;n.startAt&&(u=function(t){const e=!!t.before,n=t.values||[];return new Vs(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Vs(n,e)}(n.endAt)),da(e,i,s,o,a,"F",u,c)}function dc(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vc(t.unaryFilter.field);return Ks.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=vc(t.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vc(t.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vc(t.unaryFilter.field);return Ks.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ro()}}(t):void 0!==t.fieldFilter?function(t){return Ks.create(vc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ro()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Gs.create(t.compositeFilter.filters.map((t=>dc(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ro()}}(t.compositeFilter.op))}(t):ro()}function pc(t){return Hu[t]}function gc(t){return Ku[t]}function mc(t){return Gu[t]}function yc(t){return{fieldPath:t.canonicalString()}}function vc(t){return Ao.fromServerFormat(t.fieldPath)}function wc(t){return t instanceof Ks?function(t){if("=="===t.op){if(Rs(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if(ks(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Rs(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if(ks(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:gc(t.op),value:t.value}}}(t):t instanceof Gs?function(t){const e=t.getFilters().map((t=>wc(t)));return 1===e.length?e[0]:{compositeFilter:{op:mc(t.op),filters:e}}}(t):ro()}function _c(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ec{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:To.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:To.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:as.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(t){return new Ec(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Tc{constructor(t){this.ht=t}}function Sc(t){const e=fc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ba(e,e.limit,"L"):e}class Cc{constructor(){}Et(t,e){this.dt(t,e),e.At()}dt(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(ls(t.integerValue));else if("doubleValue"in t){const n=ls(t.doubleValue);isNaN(n)?this.Rt(e,13):(this.Rt(e,15),zo(n)?e.Vt(0):e.Vt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Rt(e,20),"string"==typeof n&&(n=cs(n)),e.ft("".concat(n.seconds||"")),e.Vt(n.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(hs(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Rt(e,45),e.Vt(n.latitude||0),e.Vt(n.longitude||0)}else"mapValue"in t?Ps(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):Os(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):ro()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const n=t.fields||{};this.Rt(e,55);for(const r of Object.keys(n))this.gt(r,e),this.dt(n[r],e)}bt(t,e){var n,r;const i=t.fields||{};this.Rt(e,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(e,15),e.Vt(ls(s)),this.gt(o,e),this.dt(i[o],e)}vt(t,e){const n=t.values||[];this.Rt(e,50);for(const r of n)this.dt(r,e)}St(t,e){this.Rt(e,37),xo.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}Cc.Ft=new Cc;class Ic{constructor(){this.ln=new Ac}addToCollectionParentIndex(t,e){return this.ln.add(e),jo.resolve()}getCollectionParents(t,e){return jo.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return jo.resolve()}deleteFieldIndex(t,e){return jo.resolve()}deleteAllFieldIndexes(t){return jo.resolve()}createTargetIndexes(t,e){return jo.resolve()}getDocumentsMatchingTarget(t,e){return jo.resolve(null)}getIndexType(t,e){return jo.resolve(0)}getFieldIndexes(t,e){return jo.resolve([])}getNextCollectionGroupToUpdate(t){return jo.resolve(null)}getMinOffset(t,e){return jo.resolve(No.min())}getMinOffsetFromCollectionGroup(t,e){return jo.resolve(No.min())}updateCollectionGroup(t,e,n){return jo.resolve()}updateIndexEntries(t,e){return jo.resolve()}}class Ac{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new rs(Co.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new rs(Co.comparator)).toArray()}}new Uint8Array(0);const xc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dc{static withCacheSize(t){return new Dc(t,Dc.DEFAULT_COLLECTION_PERCENTILE,Dc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Dc.DEFAULT_COLLECTION_PERCENTILE=10,Dc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dc.DEFAULT=new Dc(41943040,Dc.DEFAULT_COLLECTION_PERCENTILE,Dc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dc.DISABLED=new Dc(-1,0,0);class kc{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new kc(0)}static Qn(){return new kc(-1)}}function Rc(t,e){let[n,r]=t,[i,o]=e;const s=_o(n,i);return 0===s?_o(r,o):s}class Nc{constructor(t){this.Gn=t,this.buffer=new rs(Rc),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Rc(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Oc{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){Zi("LruGarbageCollector","Garbage collection scheduled in ".concat(t,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?Zi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Yn(3e5)}))}}class Lc{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return jo.resolve(Uo.oe);const n=new Nc(e);return this.Zn.forEachTarget(t,(t=>n.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>n.Hn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.Zn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Zi("LruGarbageCollector","Garbage collection skipped; disabled"),jo.resolve(xc)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Zi("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),xc):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let n,r,i,o,s,a,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Zi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(e)),r=this.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(u=Date.now(),Ji()<=He.DEBUG&&Zi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(t," documents in ")+(u-a)+"ms\n"+"Total Duration: ".concat(u-c,"ms")),jo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}function Pc(t,e){return new Lc(t,e)}class Mc{constructor(){this.changes=new Da((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Fs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?jo.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Fc{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&lu(n.mutation,t,os.empty(),Eo.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Ua()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ua();const r=Pa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=Oa();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Pa();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Ua())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Ra();const o=ja(),s=ja();return e.forEach(((t,e)=>{const s=n.get(e.key);r.has(e.key)&&(void 0===s||s.mutation instanceof pu)?i=i.insert(e.key,e):void 0!==s?(o.set(e.key,s.mutation.getFieldMask()),lu(s.mutation,e,s.mutation.getFieldMask(),Eo.now())):o.set(e.key,os.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return s.set(t,new jc(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(t,e){const n=ja();let r=new ts(((t,e)=>t-e)),i=Ua();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let s=n.get(t)||os.empty();s=i.applyToLocalView(o,s),n.set(t,s);const a=(r.get(i.batchId)||Ua()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,u=r.value,c=Ma();u.forEach((t=>{if(!i.has(t)){const r=uu(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,a,c))}return jo.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return xo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ma(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):jo.resolve(Pa());let s=-1,a=i;return o.next((e=>jo.forEach(e,((e,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(e)?jo.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Ua()))).next((t=>({batchId:s,changes:La(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xo(e)).next((t=>{let e=Oa();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(t,i).next((s=>jo.forEach(s,(s=>{const a=function(t,e){return new fa(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{o=o.insert(t,e)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Fs.newInvalidDocument(r)))}));let n=Oa();return t.forEach(((t,r)=>{const o=i.get(t);void 0!==o&&lu(o.mutation,r,os.empty(),Eo.now()),Ca(e,r)&&(n=n.insert(t,r))})),n}))}}class Vc{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return jo.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Ju(t.createTime)}}(e)),jo.resolve()}getNamedQuery(t,e){return jo.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:Sc(t.bundledQuery),readTime:Ju(t.readTime)}}(e)),jo.resolve()}}class Uc{constructor(){this.overlays=new ts(xo.comparator),this.Er=new Map}getOverlay(t,e){return jo.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Pa();return jo.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.Tt(t,e,r)})),jo.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Er.delete(n)),jo.resolve()}getOverlaysForCollection(t,e,n){const r=Pa(),i=e.length+1,o=new xo(e.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const t=s.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return jo.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new ts(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=Pa(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const s=Pa(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>s.set(t,e))),!(s.size()>=r)););return jo.resolve(s)}Tt(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Eu(e,n));let i=this.Er.get(e);void 0===i&&(i=Ua(),this.Er.set(e,i)),this.Er.set(e,i.add(n.key))}}class Bc{constructor(){this.sessionToken=as.EMPTY_BYTE_STRING}getSessionToken(t){return jo.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,jo.resolve()}}class zc{constructor(){this.dr=new rs(qc.Ar),this.Rr=new rs(qc.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const n=new qc(t,e);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new qc(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new xo(new Co([])),n=new qc(e,t),r=new qc(e,t+1),i=[];return this.Rr.forEachInRange([n,r],(t=>{this.gr(t),i.push(t.key)})),i}wr(){this.dr.forEach((t=>this.gr(t)))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new xo(new Co([])),n=new qc(e,t),r=new qc(e,t+1);let i=Ua();return this.Rr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new qc(t,0),n=this.dr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class qc{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return xo.comparator(t.key,e.key)||_o(t.br,e.br)}static Vr(t,e){return _o(t.br,e.br)||xo.comparator(t.key,e.key)}}class Hc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new rs(qc.Ar)}checkEmpty(t){return jo.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _u(i,e,n,r);this.mutationQueue.push(o);for(const s of r)this.vr=this.vr.add(new qc(s.key,i)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return jo.resolve(o)}lookupMutationBatch(t,e){return jo.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Fr(n),i=r<0?0:r;return jo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jo.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return jo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new qc(e,0),r=new qc(e,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(t=>{const e=this.Cr(t.br);i.push(e)})),jo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new rs(_o);return e.forEach((t=>{const e=new qc(t,0),r=new qc(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,r],(t=>{n=n.add(t.br)}))})),jo.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;xo.isDocumentKey(i)||(i=i.child(""));const o=new qc(new xo(i),0);let s=new rs(_o);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.br)),!0)}),o),jo.resolve(this.Mr(s))}Mr(t){const e=[];return t.forEach((t=>{const n=this.Cr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){io(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return jo.forEach(e.mutations,(r=>{const i=new qc(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.vr=n}))}Ln(t){}containsKey(t,e){const n=new qc(e,0),r=this.vr.firstAfterOrEqual(n);return jo.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,jo.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Kc{constructor(t){this.Nr=t,this.docs=new ts(xo.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.Nr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return jo.resolve(n?n.document.mutableCopy():Fs.newInvalidDocument(e))}getEntries(t,e){let n=Ra();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Fs.newInvalidDocument(t))})),jo.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Ra();const o=e.path,s=new xo(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:t,value:{document:s}}=a.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Oo(Ro(s),n)<=0||(r.has(s.key)||Ca(e,s))&&(i=i.insert(s.key,s.mutableCopy()))}return jo.resolve(i)}getAllFromCollectionGroup(t,e,n,r){ro()}Lr(t,e){return jo.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Gc(this)}getSize(t){return jo.resolve(this.size)}}class Gc extends Mc{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.hr.addEntry(t,r)):this.hr.removeEntry(n)})),jo.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class Wc{constructor(t){this.persistence=t,this.Br=new Da((t=>ca(t)),la),this.lastRemoteSnapshotVersion=To.min(),this.highestTargetId=0,this.kr=0,this.qr=new zc,this.targetCount=0,this.Qr=kc.qn()}forEachTarget(t,e){return this.Br.forEach(((t,n)=>e(n))),jo.resolve()}getLastRemoteSnapshotVersion(t){return jo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return jo.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),jo.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.kr&&(this.kr=e),jo.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new kc(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,jo.resolve()}updateTargetData(t,e){return this.Un(e),jo.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,jo.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Br.forEach(((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),jo.waitFor(i).next((()=>r))}getTargetCount(t){return jo.resolve(this.targetCount)}getTargetData(t,e){const n=this.Br.get(e)||null;return jo.resolve(n)}addMatchingKeys(t,e,n){return this.qr.mr(e,n),jo.resolve()}removeMatchingKeys(t,e,n){this.qr.pr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),jo.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),jo.resolve()}getMatchingKeysForTargetId(t,e){const n=this.qr.Sr(e);return jo.resolve(n)}containsKey(t,e){return jo.resolve(this.qr.containsKey(e))}}class Qc{constructor(t,e){this.Kr={},this.overlays={},this.$r=new Uo(0),this.Ur=!1,this.Ur=!0,this.Wr=new Bc,this.referenceDelegate=t(this),this.Gr=new Wc(this),this.indexManager=new Ic,this.remoteDocumentCache=function(t){return new Kc(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new Tc(e),this.jr=new Vc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Uc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Kr[t.toKey()];return n||(n=new Hc(e,this.referenceDelegate),this.Kr[t.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,n){Zi("MemoryPersistence","Starting transaction:",t);const r=new $c(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((t=>this.referenceDelegate.Jr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Yr(t,e){return jo.or(Object.values(this.Kr).map((n=>()=>n.containsKey(t,e))))}}class $c extends Po{constructor(t){super(),this.currentSequenceNumber=t}}class Xc{constructor(t){this.persistence=t,this.Zr=new zc,this.Xr=null}static ei(t){return new Xc(t)}get ti(){if(this.Xr)return this.Xr;throw ro()}addReference(t,e,n){return this.Zr.addReference(n,e),this.ti.delete(n.toString()),jo.resolve()}removeReference(t,e,n){return this.Zr.removeReference(n,e),this.ti.add(n.toString()),jo.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),jo.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jo.forEach(this.ti,(n=>{const r=xo.fromPath(n);return this.ni(t,r).next((t=>{t||e.removeEntry(r,To.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return jo.or([()=>jo.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class Yc{constructor(t,e){this.persistence=t,this.ri=new Da((t=>Ho(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=Pc(this,e)}static ei(t,e){return new Yc(t,e)}Hr(){}Jr(t){return jo.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return jo.forEach(this.ri,((n,r)=>this.ir(t,n,r).next((t=>t?jo.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(t,(r=>this.ir(t,r,e).next((t=>{t||(n++,i.removeEntry(r,To.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),jo.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),jo.resolve()}removeReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),jo.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),jo.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Is(t.data.value)),e}ir(t,e,n){return jo.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return jo.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jc{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Wi=n,this.Gi=r}static zi(t,e){let n=Ua(),r=Ua();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jc(t,e.fromCache,n,r)}}class Zc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tl{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=De()?8:Fo(xe())>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.Xi(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.es(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new Zc;return this.ts(t,e,n).next((r=>{if(i.result=r,this.Hi)return this.ns(t,e,n,r.size)}))})).next((()=>i.result))}ns(t,e,n,r){return n.documentReadCount<this.Ji?(Ji()<=He.DEBUG&&Zi("QueryEngine","SDK will not create cache indexes for query:",Sa(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),jo.resolve()):(Ji()<=He.DEBUG&&Zi("QueryEngine","Query:",Sa(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(Ji()<=He.DEBUG&&Zi("QueryEngine","The SDK decides to create cache indexes for query:",Sa(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,va(e))):jo.resolve())}Xi(t,e){if(ga(e))return jo.resolve(null);let n=va(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=ba(e,null,"F"),n=va(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Ua(...r);return this.Zi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.rs(e,r);return this.ss(e,o,i,n.readTime)?this.Xi(t,ba(e,null,"F")):this.os(t,o,e,n)}))))})))))}es(t,e,n,r){return ga(e)||r.isEqual(To.min())?jo.resolve(null):this.Zi.getDocuments(t,n).next((i=>{const o=this.rs(e,i);return this.ss(e,o,n,r)?jo.resolve(null):(Ji()<=He.DEBUG&&Zi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sa(e)),this.os(t,o,e,ko(r,-1)).next((t=>t)))}))}rs(t,e){let n=new rs(Aa(t));return e.forEach(((e,r)=>{Ca(t,r)&&(n=n.add(r))})),n}ss(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(t,e,n){return Ji()<=He.DEBUG&&Zi("QueryEngine","Using full collection scan to execute query:",Sa(e)),this.Zi.getDocumentsMatchingQuery(t,e,No.min(),n)}os(t,e,n,r){return this.Zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class el{constructor(t,e,n,r){this.persistence=t,this._s=e,this.serializer=r,this.us=new ts(_o),this.cs=new Da((t=>ca(t)),la),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(n)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fc(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}function nl(t,e,n,r){return new el(t,e,n,r)}async function rl(t,e){const n=oo(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let s=Ua();for(const t of r){i.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return n.localDocuments.getDocuments(t,s).next((t=>({Ts:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function il(t){const e=oo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}function ol(t,e,n){let r=Ua(),i=Ua();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Ra();return n.forEach(((n,o)=>{const s=t.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(To.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):Zi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Is:r,Es:i}}))}function sl(t,e){const n=oo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function al(t,e){const n=oo(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Gr.getTargetData(t,e).next((i=>i?(r=i,jo.resolve(r)):n.Gr.allocateTargetId(t).next((i=>(r=new Ec(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Gr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.us.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(t.targetId,t),n.cs.set(e,t.targetId)),t}))}async function ul(t,e,n){const r=oo(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Vo(t))throw t;Zi("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}r.us=r.us.remove(e),r.cs.delete(i.target)}function cl(t,e,n){const r=oo(t);let i=To.min(),o=Ua();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=oo(t),i=r.cs.get(n);return void 0!==i?jo.resolve(r.us.get(i)):r.Gr.getTargetData(e,n)}(r,t,va(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r._s.getDocumentsMatchingQuery(t,e,n?i:To.min(),n?o:Ua()))).next((t=>(ll(r,Ia(e),t),{documents:t,ds:o})))))}function ll(t,e,n){let r=t.ls.get(e)||To.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ls.set(e,r)}class hl{constructor(){this.activeTargetIds=za()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fl{constructor(){this._o=new hl,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,n){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new hl,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dl{uo(t){}shutdown(){}}class pl{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Zi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Zi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gl=null;function ml(){return null===gl?gl=268435456+Math.round(2147483648*Math.random()):gl++,"0x"+gl.toString(16)}const yl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vl{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const wl="WebChannelConnection";class _l extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(t,e,n,r,i){const o=ml(),s=this.No(t,e.toUriEncodedString());Zi("RestConnection","Sending RPC '".concat(t,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(t,s,a,n).then((e=>(Zi("RestConnection","Received RPC '".concat(t,"' ").concat(o,": "),e),e)),(e=>{throw eo("RestConnection","RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",s,"request:",n),e}))}ko(t,e,n,r,i,o){return this.Oo(t,e,n,r,i)}Lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}No(t,e){const n=yl[t];return"".concat(this.Fo,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,n,r){const i=ml();return new Promise(((o,s)=>{const a=new Fi;a.setWithCredentials(!0),a.listenOnce(Ui.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Bi.NO_ERROR:const e=a.getResponseJson();Zi(wl,"XHR for RPC '".concat(t,"' ").concat(i," received:"),JSON.stringify(e)),o(e);break;case Bi.TIMEOUT:Zi(wl,"RPC '".concat(t,"' ").concat(i," timed out")),s(new ao(so.DEADLINE_EXCEEDED,"Request time out"));break;case Bi.HTTP_ERROR:const n=a.getStatus();if(Zi(wl,"RPC '".concat(t,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(so).indexOf(e)>=0?e:so.UNKNOWN}(e.status);s(new ao(t,e.message))}else s(new ao(so.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ao(so.UNAVAILABLE,"Connection failed."));break;default:ro()}}finally{Zi(wl,"RPC '".concat(t,"' ").concat(i," completed."))}}));const u=JSON.stringify(r);Zi(wl,"RPC '".concat(t,"' ").concat(i," sending request:"),r),a.send(e,"POST",u,n,15)}))}qo(t,e,n){const r=ml(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ki(),s=Hi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Zi(wl,"Creating RPC '".concat(t,"' stream ").concat(r,": ").concat(c),a);const l=o.createWebChannel(c,a);let h=!1,f=!1;const d=new vl({Eo:e=>{f?Zi(wl,"Not sending because RPC '".concat(t,"' stream ").concat(r," is closed:"),e):(h||(Zi(wl,"Opening RPC '".concat(t,"' stream ").concat(r," transport.")),l.open(),h=!0),Zi(wl,"RPC '".concat(t,"' stream ").concat(r," sending:"),e),l.send(e))},Ao:()=>l.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(l,Vi.EventType.OPEN,(()=>{f||(Zi(wl,"RPC '".concat(t,"' stream ").concat(r," transport opened.")),d.So())})),p(l,Vi.EventType.CLOSE,(()=>{f||(f=!0,Zi(wl,"RPC '".concat(t,"' stream ").concat(r," transport closed")),d.Do())})),p(l,Vi.EventType.ERROR,(e=>{f||(f=!0,eo(wl,"RPC '".concat(t,"' stream ").concat(r," transport errored:"),e),d.Do(new ao(so.UNAVAILABLE,"The operation could not be completed")))})),p(l,Vi.EventType.MESSAGE,(e=>{var n;if(!f){const i=e.data[0];io(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Zi(wl,"RPC '".concat(t,"' stream ").concat(r," received error:"),s);const e=s.status;let n=function(t){const e=Su[t];if(void 0!==e)return Au(e)}(e),i=s.message;void 0===n&&(n=so.INTERNAL,i="Unknown error status: "+e+" with message "+s.message),f=!0,d.Do(new ao(n,i)),l.close()}else Zi(wl,"RPC '".concat(t,"' stream ").concat(r," received:"),i),d.vo(i)}})),p(s,qi.STAT_EVENT,(e=>{e.stat===zi.PROXY?Zi(wl,"RPC '".concat(t,"' stream ").concat(r," detected buffering proxy")):e.stat===zi.NOPROXY&&Zi(wl,"RPC '".concat(t,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{d.bo()}),0),d}}function bl(){return"undefined"!=typeof document?document:null}function El(t){return new Wu(t,!0)}class Tl{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=t,this.timerId=e,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,e-n);r>0&&Zi("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Sl{constructor(t,e,n,r,i,o,s,a){this.li=t,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Tl(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===so.RESOURCE_EXHAUSTED?(to(e.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===so.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.Xo===e&&this.I_(n,r)}),(e=>{t((()=>{const t=new ao(so.UNKNOWN,"Fetching auth token failed: "+e.message);return this.E_(t)}))}))}I_(t,e){const n=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{n((()=>this.E_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(t){return Zi("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(Zi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cl extends Sl{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}d_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ro()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(io(void 0===e||"string"==typeof e),as.fromBase64String(e||"")):(io(void 0===e||e instanceof Buffer||e instanceof Uint8Array),as.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?so.UNKNOWN:Au(t.code);return new ao(e,t.message||"")}(s);n=new Vu(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rc(t,r.document.name),o=Ju(r.document.updateTime),s=r.document.createTime?Ju(r.document.createTime):To.min(),a=new Ms({mapValue:{fields:r.document.fields}}),u=Fs.newFoundDocument(i,o,s,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new ju(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rc(t,r.document),o=r.readTime?Ju(r.readTime):To.min(),s=Fs.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ju([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rc(t,r.document),o=r.removedTargetIds||[];n=new ju([],o,i,null)}else{if(!("filter"in e))return ro();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,o=new Tu(r,i),s=t.targetId;n=new Fu(s,o)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return To.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?To.min():e.readTime?Ju(e.readTime):To.min()}(t);return this.listener.R_(e,n)}V_(t){const e={};e.database=sc(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=ha(r)?{documents:lc(t,r)}:{query:hc(t,r).ct},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Xu(t,e.resumeToken);const r=Qu(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(To.min())>0){n.readTime=$u(t,e.snapshotVersion.toTimestamp());const r=Qu(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ro()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.c_(e)}m_(t){const e={};e.database=sc(this.serializer),e.removeTarget=t,this.c_(e)}}class Il extends Sl{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return io(!!t.streamToken),this.lastStreamToken=t.streamToken,io(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){io(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(io(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Ju(t.updateTime):Ju(e);return n.isEqual(To.min())&&(n=Ju(e)),new iu(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Ju(t.commitTime);return this.listener.y_(n,e)}w_(){const t={};t.database=sc(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>cc(this.serializer,t)))};this.c_(e)}}class Al extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new ao(so.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Oo(t,tc(e,n),r,o,s)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===so.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new ao(so.UNKNOWN,t.toString())}))}ko(t,e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.ko(t,tc(e,n),r,s,a,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===so.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new ao(so.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class xl{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(to(e),this.C_=!1):Zi("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Dl{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((t=>{n.enqueueAndForget((async()=>{Fl(this)&&(Zi("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=oo(t);e.k_.add(4),await Rl(e),e.K_.set("Unknown"),e.k_.delete(4),await kl(e)}(this))}))})),this.K_=new xl(n,r)}}async function kl(t){if(Fl(t))for(const e of t.q_)await e(!0)}async function Rl(t){for(const e of t.q_)await e(!1)}function Nl(t,e){const n=oo(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),jl(n)?Ml(n):rh(n).s_()&&Ll(n,e))}function Ol(t,e){const n=oo(t),r=rh(n);n.B_.delete(e),r.s_()&&Pl(n,e),0===n.B_.size&&(r.s_()?r.a_():Fl(n)&&n.K_.set("Unknown"))}function Ll(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(To.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rh(t).V_(e)}function Pl(t,e){t.U_.xe(e),rh(t).m_(e)}function Ml(t){t.U_=new Bu({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rh(t).start(),t.K_.F_()}function jl(t){return Fl(t)&&!rh(t).i_()&&t.B_.size>0}function Fl(t){return 0===oo(t).k_.size}function Vl(t){t.U_=void 0}async function Ul(t){t.K_.set("Online")}async function Bl(t){t.B_.forEach(((e,n)=>{Ll(t,e)}))}async function zl(t,e){Vl(t),jl(t)?(t.K_.O_(e),Ml(t)):t.K_.set("Unknown")}async function ql(t,e,n){if(t.K_.set("Online"),e instanceof Vu&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.B_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.B_.delete(r),t.U_.removeTarget(r))}(t,e)}catch(n){Zi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Hl(t,n)}else if(e instanceof ju?t.U_.$e(e):e instanceof Fu?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(To.min()))try{const e=await il(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.U_.it(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.B_.get(r);i&&t.B_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.B_.get(e);if(!r)return;t.B_.set(e,r.withResumeToken(as.EMPTY_BYTE_STRING,r.snapshotVersion)),Pl(t,e);const i=new Ec(r.target,e,n,r.sequenceNumber);Ll(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Zi("RemoteStore","Failed to raise snapshot:",e),await Hl(t,e)}}async function Hl(t,e,n){if(!Vo(e))throw e;t.k_.add(1),await Rl(t),t.K_.set("Offline"),n||(n=()=>il(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Zi("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await kl(t)}))}function Kl(t,e){return e().catch((n=>Hl(t,n,e)))}async function Gl(t){const e=oo(t),n=ih(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Wl(e);)try{const t=await sl(e.localStore,r);if(null===t){0===e.L_.length&&n.a_();break}r=t.batchId,Ql(e,t)}catch(t){await Hl(e,t)}$l(e)&&Xl(e)}function Wl(t){return Fl(t)&&t.L_.length<10}function Ql(t,e){t.L_.push(e);const n=ih(t);n.s_()&&n.f_&&n.g_(e.mutations)}function $l(t){return Fl(t)&&!ih(t).i_()&&t.L_.length>0}function Xl(t){ih(t).start()}async function Yl(t){ih(t).w_()}async function Jl(t){const e=ih(t);for(const n of t.L_)e.g_(n.mutations)}async function Zl(t,e,n){const r=t.L_.shift(),i=bu.from(r,e,n);await Kl(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Gl(t)}async function th(t,e){e&&ih(t).f_&&await async function(t,e){if(function(t){return Iu(t)&&t!==so.ABORTED}(e.code)){const n=t.L_.shift();ih(t).__(),await Kl(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Gl(t)}}(t,e),$l(t)&&Xl(t)}async function eh(t,e){const n=oo(t);n.asyncQueue.verifyOperationInProgress(),Zi("RemoteStore","RemoteStore received new credentials");const r=Fl(n);n.k_.add(3),await Rl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await kl(n)}async function nh(t,e){const n=oo(t);e?(n.k_.delete(2),await kl(n)):e||(n.k_.add(2),await Rl(n),n.K_.set("Unknown"))}function rh(t){return t.W_||(t.W_=function(t,e,n){const r=oo(t);return r.b_(),new Cl(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:Ul.bind(null,t),mo:Bl.bind(null,t),po:zl.bind(null,t),R_:ql.bind(null,t)}),t.q_.push((async e=>{e?(t.W_.__(),jl(t)?Ml(t):t.K_.set("Unknown")):(await t.W_.stop(),Vl(t))}))),t.W_}function ih(t){return t.G_||(t.G_=function(t,e,n){const r=oo(t);return r.b_(),new Il(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Yl.bind(null,t),po:th.bind(null,t),p_:Jl.bind(null,t),y_:Zl.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await Gl(t)):(await t.G_.stop(),t.L_.length>0&&(Zi("RemoteStore","Stopping write stream with ".concat(t.L_.length," pending writes")),t.L_=[]))}))),t.G_}class oh{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,s=new oh(t,e,o,r,i);return s.start(n),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ao(so.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sh(t,e){if(to("AsyncQueue","".concat(e,": ").concat(t)),Vo(t))return new ao(so.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class ah{static emptySet(t){return new ah(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||xo.comparator(e.key,n.key):(t,e)=>xo.comparator(t.key,e.key),this.keyedMap=Oa(),this.sortedSet=new ts(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ah))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new ah;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class uh{constructor(){this.z_=new ts(xo.comparator)}track(t){const e=t.doc.key,n=this.z_.get(e);n?0!==t.type&&3===n.type?this.z_=this.z_.insert(e,t):3===t.type&&1!==n.type?this.z_=this.z_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.z_=this.z_.remove(e):1===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):ro():this.z_=this.z_.insert(e,t)}j_(){const t=[];return this.z_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class ch{constructor(t,e,n,r,i,o,s,a,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new ch(t,e,ah.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ea(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class lh{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((t=>t.Z_()))}}class hh{constructor(){this.queries=fh(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const n=oo(t),r=n.queries;n.queries=fh(),r.forEach(((t,n)=>{for(const r of n.J_)r.onError(e)}))}(this,new ao(so.ABORTED,"Firestore shutting down"))}}function fh(){return new Da((t=>Ta(t)),Ea)}async function dh(t,e){const n=oo(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new lh,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=sh(t,"Initialization of query '".concat(Sa(e.query),"' failed"));return void e.onError(n)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&yh(n)}async function ph(t,e){const n=oo(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const t=o.J_.indexOf(e);t>=0&&(o.J_.splice(t,1),0===o.J_.length?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gh(t,e){const n=oo(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.J_)t.ta(i)&&(r=!0);e.H_=i}}r&&yh(n)}function mh(t,e,n){const r=oo(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function yh(t){t.X_.forEach((t=>{t.next()}))}var vh,wh;(wh=vh||(vh={})).na="default",wh.Cache="cache";class _h{constructor(t,e,n){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new ch(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==e;return(!this.options.ua||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}oa(t){if(t.docChanges.length>0)return!0;const e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}aa(t){t=ch.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==vh.Cache}}class bh{constructor(t){this.key=t}}class Eh{constructor(t){this.key=t}}class Th{constructor(t,e){this.query=t,this.da=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ua(),this.mutatedKeys=Ua(),this.Va=Aa(t),this.ma=new ah(this.Va)}get fa(){return this.da}ga(t,e){const n=e?e.pa:new uh,r=e?e.ma:this.ma;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),l=Ca(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let d=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(n.track({type:3,doc:l}),d=!0):this.ya(c,l)||(n.track({type:2,doc:l}),d=!0,(a&&this.Va(l,a)>0||u&&this.Va(l,u)<0)&&(s=!0)):!c&&l?(n.track({type:0,doc:l}),d=!0):c&&!l&&(n.track({type:1,doc:c}),d=!0,(a||u)&&(s=!0)),d&&(l?(o=o.add(l),i=f?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{ma:o,pa:n,ss:s,mutatedKeys:i}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const o=t.pa.j_();o.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ro()}};return n(t)-n(e)}(t.type,e.type)||this.Va(t.doc,e.doc))),this.wa(n),r=null!=r&&r;const s=e&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,u=a!==this.Aa;return this.Aa=a,0!==o.length||u?{snapshot:new ch(this.query,t.ma,i,o,t.mutatedKeys,0===a,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ma:this.ma,pa:new uh,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach((t=>this.da=this.da.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.da=this.da.delete(t))),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Ua(),this.ma.forEach((t=>{this.Da(t.key)&&(this.Ra=this.Ra.add(t.key))}));const e=[];return t.forEach((t=>{this.Ra.has(t)||e.push(new Eh(t))})),this.Ra.forEach((n=>{t.has(n)||e.push(new bh(n))})),e}va(t){this.da=t.ds,this.Ra=Ua();const e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return ch.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Sh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Ch{constructor(t){this.key=t,this.Fa=!1}}class Ih{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Da((t=>Ta(t)),Ea),this.Oa=new Map,this.Na=new Set,this.La=new ts(xo.comparator),this.Ba=new Map,this.ka=new zc,this.qa={},this.Qa=new Map,this.Ka=kc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Ah(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Qh(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await Dh(r,e,n,!0),i}async function xh(t,e){const n=Qh(t);await Dh(n,e,!0,!1)}async function Dh(t,e,n,r){const i=await al(t.localStore,va(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await kh(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&Nl(t.remoteStore,i),a}async function kh(t,e,n,r,i){t.Ua=(e,n,r)=>async function(t,e,n,r){let i=e.view.ga(n);i.ss&&(i=await cl(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ga(n,i)})));const o=r&&r.targetChanges.get(e.targetId),s=r&&null!=r.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o,s);return zh(t,e.targetId,a.ba),a.snapshot}(t,e,n,r);const o=await cl(t.localStore,e,!0),s=new Th(e,o.ds),a=s.ga(o.documents),u=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);zh(t,n,c.ba);const l=new Sh(e,n,s);return t.xa.set(e,l),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function Rh(t,e,n){const r=oo(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter((t=>!Ea(t,e)))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ul(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ol(r.remoteStore,i.targetId),Uh(r,i.targetId)})).catch(Mo)):(Uh(r,i.targetId),await ul(r.localStore,i.targetId,!0))}async function Nh(t,e){const n=oo(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ol(n.remoteStore,r.targetId))}async function Oh(t,e){const n=oo(t);try{const t=await function(t,e){const n=oo(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const s=[];e.targetChanges.forEach(((o,a)=>{const u=i.get(a);if(!u)return;s.push(n.Gr.removeMatchingKeys(t,o.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(t,o.addedDocuments,a))));let c=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(as.EMPTY_BYTE_STRING,To.min()).withLastLimboFreeSnapshotVersion(To.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,o)&&s.push(n.Gr.updateTargetData(t,c))}));let a=Ra(),u=Ua();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(ol(t,o,e.documentUpdates).next((t=>{a=t.Is,u=t.Es}))),!r.isEqual(To.min())){const e=n.Gr.getLastRemoteSnapshotVersion(t).next((e=>n.Gr.setTargetsMetadata(t,t.currentSequenceNumber,r)));s.push(e)}return jo.waitFor(s).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,u))).next((()=>a))})).then((t=>(n.us=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Ba.get(e);r&&(io(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Fa=!0:t.modifiedDocuments.size>0?io(r.Fa):t.removedDocuments.size>0&&(io(r.Fa),r.Fa=!1))})),await Kh(n,t,e)}catch(t){await Mo(t)}}function Lh(t,e,n){const r=oo(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=oo(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.J_)i.ea(e)&&(r=!0)})),r&&yh(n)}(r.eventManager,e),t.length&&r.Ma.R_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ph(t,e,n){const r=oo(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let t=new ts(xo.comparator);t=t.insert(o,Fs.newNoDocument(o,To.min()));const n=Ua().add(o),i=new Pu(To.min(),new Map,new ts(_o),t,n);await Oh(r,i),r.La=r.La.remove(o),r.Ba.delete(e),Hh(r)}else await ul(r.localStore,e,!1).then((()=>Uh(r,e,n))).catch(Mo)}async function Mh(t,e){const n=oo(t),r=e.batch.batchId;try{const t=await function(t,e){const n=oo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let s=jo.resolve();return o.forEach((t=>{s=s.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);io(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),s.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Ua();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Vh(n,r,null),Fh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kh(n,t)}catch(t){await Mo(t)}}async function jh(t,e,n){const r=oo(t);try{const t=await function(t,e){const n=oo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(io(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Vh(r,e,n),Fh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kh(r,t)}catch(n){await Mo(n)}}function Fh(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function Vh(t,e,n){const r=oo(t);let i=r.qa[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Uh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach((e=>{t.ka.containsKey(e)||Bh(t,e)}))}function Bh(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);null!==n&&(Ol(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Hh(t))}function zh(t,e,n){for(const r of n)r instanceof bh?(t.ka.addReference(r.key,e),qh(t,r)):r instanceof Eh?(Zi("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Bh(t,r.key)):ro()}function qh(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Zi("SyncEngine","New document in limbo: "+n),t.Na.add(r),Hh(t))}function Hh(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new xo(Co.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Ch(n)),t.La=t.La.insert(n,r),Nl(t.remoteStore,new Ec(va(pa(n.path)),r,"TargetPurposeLimboResolution",Uo.oe))}}async function Kh(t,e,n){const r=oo(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach(((t,a)=>{s.push(r.Ua(a,e,n).then((t=>{var e;if((t||n)&&r.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(t){i.push(t);const e=Jc.zi(a.targetId,t);o.push(e)}})))})),await Promise.all(s),r.Ma.R_(i),await async function(t,e){const n=oo(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>jo.forEach(e,(e=>jo.forEach(e.Wi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>jo.forEach(e.Gi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Vo(t))throw t;Zi("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.us.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(t,i)}}}(r.localStore,o))}async function Gh(t,e){const n=oo(t);if(!n.currentUser.isEqual(e)){Zi("SyncEngine","User change. New user:",e.toKey());const t=await rl(n.localStore,e);n.currentUser=e,function(t,e){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new ao(so.CANCELLED,e))}))})),t.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Kh(n,t.Ts)}}function Wh(t,e){const n=oo(t),r=n.Ba.get(e);if(r&&r.Fa)return Ua().add(r.key);{let t=Ua();const r=n.Oa.get(e);if(!r)return t;for(const e of r){const r=n.xa.get(e);t=t.unionWith(r.view.fa)}return t}}function Qh(t){const e=oo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Oh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ph.bind(null,e),e.Ma.R_=gh.bind(null,e.eventManager),e.Ma.Wa=mh.bind(null,e.eventManager),e}function $h(t){const e=oo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jh.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=El(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return nl(this.persistence,new tl,t.initialUser,this.serializer)}ja(t){return new Qc(Xc.ei,this.serializer)}za(t){return new fl}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class Yh extends Xh{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){io(this.persistence.referenceDelegate instanceof Yc);const n=this.persistence.referenceDelegate.garbageCollector;return new Oc(n,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?Dc.withCacheSize(this.cacheSizeBytes):Dc.DEFAULT;return new Qc((t=>Yc.ei(t,e)),this.serializer)}}class Jh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Lh(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gh.bind(null,this.syncEngine),await nh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new hh}createDatastore(t){const e=El(t.databaseInfo.databaseId),n=function(t){return new _l(t)}(t.databaseInfo);return function(t,e,n,r){return new Al(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new Dl(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Lh(this.syncEngine,t,0)),pl.p()?new pl:new dl)}createSyncEngine(t,e){return function(t,e,n,r,i,o,s){const a=new Ih(t,e,n,r,i,o);return s&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=oo(t);Zi("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await Rl(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}Jh.provider={build:()=>new Jh};class Zh{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):to("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class tf{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=$i.UNAUTHENTICATED,this.clientId=wo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async t=>{Zi("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Zi("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=sh(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function ef(t,e){t.asyncQueue.verifyOperationInProgress(),Zi("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await rl(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function nf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rf(t);Zi("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>eh(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>eh(e.remoteStore,n))),t._onlineComponents=e}async function rf(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Zi("FirestoreClient","Using user provided OfflineComponentProvider");try{await ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===so.FAILED_PRECONDITION||t.code===so.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await ef(t,new Xh)}}else Zi("FirestoreClient","Using default OfflineComponentProvider"),await ef(t,new Yh(void 0));return t._offlineComponents}async function of(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Zi("FirestoreClient","Using user provided OnlineComponentProvider"),await nf(t,t._uninitializedComponentsProvider._online)):(Zi("FirestoreClient","Using default OnlineComponentProvider"),await nf(t,new Jh))),t._onlineComponents}function sf(t){return of(t).then((t=>t.syncEngine))}async function af(t){const e=await of(t),n=e.eventManager;return n.onListen=Ah.bind(null,e.syncEngine),n.onUnlisten=Rh.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xh.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nh.bind(null,e.syncEngine),n}function uf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new uo;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Zh({next:a=>{o.eu(),e.enqueueAndForget((()=>ph(t,s)));const u=a.docs.has(n);!u&&a.fromCache?i.reject(new ao(so.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ao(so.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:t=>i.reject(t)}),s=new _h(pa(n.path),o,{includeMetadataChanges:!0,ua:!0});return dh(t,s)}(await af(t),t.asyncQueue,e,n,r))),r.promise}function cf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new uo;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Zh({next:n=>{o.eu(),e.enqueueAndForget((()=>ph(t,s))),n.fromCache&&"server"===r.source?i.reject(new ao(so.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),s=new _h(n,o,{includeMetadataChanges:!0,ua:!0});return dh(t,s)}(await af(t),t.asyncQueue,e,n,r))),r.promise}function lf(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const hf=new Map;function ff(t,e,n){if(!n)throw new ao(so.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function df(t){if(!xo.isDocumentKey(t))throw new ao(so.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function pf(t){if(xo.isDocumentKey(t))throw new ao(so.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function gf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":ro()}function mf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ao(so.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new ao(so.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class yf{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new ao(so.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ao(so.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new ao(so.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lf(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new ao(so.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new ao(so.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new ao(so.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vf{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ao(so.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ao(so.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new lo;switch(t.type){case"firstParty":return new go(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ao(so.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=hf.get(t);e&&(Zi("ComponentProvider","Removing Datastore"),hf.delete(t),e.terminate())}(this),Promise.resolve()}}function wf(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(t=mf(t,vf))._getSettings(),s="".concat(e,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=$i.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ao(so.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new $i(o)}t._authCredentials=new ho(new co(e,n))}}class _f{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new _f(this.firestore,t,this._query)}}class bf{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ef(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bf(this.firestore,t,this._key)}}class Ef extends _f{constructor(t,e,n){super(t,e,pa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bf(this.firestore,null,new xo(t))}withConverter(t){return new Ef(this.firestore,t,this._path)}}function Tf(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=Fe(t),ff("collection","path",e),t instanceof vf){const n=Co.fromString(e,...r);return pf(n),new Ef(t,null,n)}{if(!(t instanceof bf||t instanceof Ef))throw new ao(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Co.fromString(e,...r));return pf(n),new Ef(t.firestore,null,n)}}function Sf(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=Fe(t),1===arguments.length&&(e=wo.newId()),ff("doc","path",e),t instanceof vf){const n=Co.fromString(e,...r);return df(n),new bf(t,null,new xo(n))}{if(!(t instanceof bf||t instanceof Ef))throw new ao(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Co.fromString(e,...r));return df(n),new bf(t.firestore,t instanceof Ef?t.converter:null,new xo(n))}}class Cf{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Tl(this,"async_queue_retry"),this.fu=()=>{const t=bl();t&&Zi("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=bl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=bl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise((()=>{}));const e=new uo;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(Bd){if(!Vo(Bd))throw Bd;Zi("AsyncQueue","Operation failed with retryable error: "+Bd)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw to("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,n){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const r=oh.createAndSchedule(this,t,e,n,(t=>this.Su(t)));return this.du.push(r),r}pu(){this.Au&&ro()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}function If(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Af extends vf{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Cf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cf(t),this._firestoreClient=void 0,await t}}}function xf(t){if(t._terminated)throw new ao(so.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Df(t),t._firestoreClient}function Df(t){var e,n,r;const i=t._freezeSettings(),o=function(t,e,n,r){return new gs(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lf(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new tf(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class kf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kf(as.fromBase64String(t))}catch(t){throw new ao(so.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new kf(as.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rf{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ao(so.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ao(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nf{constructor(t){this._methodName=t}}class Of{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ao(so.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ao(so.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _o(this._lat,t._lat)||_o(this._long,t._long)}}class Lf{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const Pf=/^__.*__$/;class Mf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new pu(t,this.data,this.fieldMask,e,this.fieldTransforms):new du(t,this.data,e,this.fieldTransforms)}}class jf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new pu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Ff(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ro()}}class Vf{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Vf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Lu(t),r}Bu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return td(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if(Ff(this.Mu)&&Pf.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class Uf{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||El(t)}$u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vf({Mu:t,methodName:e,Ku:n,path:Ao.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(t){const e=t._freezeSettings(),n=El(t._databaseId);return new Uf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zf(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);Xf("Data must be an object, but it was:",s,r);const a=Qf(r,s);let u,c;if(o.merge)u=new os(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=Yf(e,r,n);if(!s.contains(i))throw new ao(so.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ed(t,i)||t.push(i)}u=new os(t),c=s.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,c=s.fieldTransforms;return new Mf(new Ms(a),u,c)}class qf extends Nf{_toFieldTransform(t){if(2!==t.Mu)throw 1===t.Mu?t.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):t.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qf}}function Hf(t,e,n,r){const i=t.$u(1,e,n);Xf("Data must be an object, but it was:",i,r);const o=[],s=Ms.empty();Jo(r,((t,r)=>{const a=Zf(e,t,n);r=Fe(r);const u=i.Bu(a);if(r instanceof qf)o.push(a);else{const t=Wf(r,u);null!=t&&(o.push(a),s.set(a,t))}}));const a=new os(o);return new jf(s,a,i.fieldTransforms)}function Kf(t,e,n,r,i,o){const s=t.$u(1,e,n),a=[Yf(e,r,n)],u=[i];if(o.length%2!=0)throw new ao(so.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let f=0;f<o.length;f+=2)a.push(Yf(e,o[f])),u.push(o[f+1]);const c=[],l=Ms.empty();for(let f=a.length-1;f>=0;--f)if(!ed(c,a[f])){const t=a[f];let e=u[f];e=Fe(e);const n=s.Bu(t);if(e instanceof qf)c.push(t);else{const r=Wf(e,n);null!=r&&(c.push(t),l.set(t,r))}}const h=new os(c);return new jf(l,h,s.fieldTransforms)}function Gf(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Wf(n,t.$u(r?4:3,e))}function Wf(t,e){if($f(t=Fe(t)))return Xf("Unsupported field value:",e,t),Qf(t,e);if(t instanceof Nf)return function(t,e){if(!Ff(e.Mu))throw e.qu("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.qu("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Wf(i,e.ku(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Fe(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ka(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Eo.fromDate(t);return{timestampValue:$u(e.serializer,n)}}if(t instanceof Eo){const n=new Eo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$u(e.serializer,n)}}if(t instanceof Of)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kf)return{bytesValue:Xu(e.serializer,t._byteString)};if(t instanceof bf){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Zu(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Lf)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return qa(e.serializer,t)}))}}}}}}(t,e);throw e.qu("Unsupported field value: ".concat(gf(t)))}(t,e)}function Qf(t,e){const n={};return Zo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(t,((t,r)=>{const i=Wf(r,e.Ou(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function $f(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Eo||t instanceof Of||t instanceof kf||t instanceof bf||t instanceof Nf||t instanceof Lf)}function Xf(t,e,n){if(!$f(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=gf(n);throw"an object"===r?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Yf(t,e,n){if((e=Fe(e))instanceof Rf)return e._internalPath;if("string"==typeof e)return Zf(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jf=new RegExp("[~\\*/\\[\\]]");function Zf(t,e,n){if(e.search(Jf)>=0)throw td("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch(r){throw td("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function td(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=" in field ".concat(r)),s&&(u+=" in document ".concat(i)),u+=")"),new ao(so.INVALID_ARGUMENT,a+t+u)}function ed(t,e){return t.some((t=>t.isEqual(e)))}class nd{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new rd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(id("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class rd extends nd{data(){return super.data()}}function id(t,e){return"string"==typeof e?Zf(t,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}function od(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ao(so.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sd{}class ad extends sd{}function ud(t,e){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e instanceof sd&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof hd)).length,n=t.filter((t=>t instanceof cd)).length;if(e>1||e>0&&n>0)throw new ao(so.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class cd extends ad{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new cd(t,e,n)}_apply(t){const e=this._parse(t);return pd(t._query,e),new _f(t.firestore,t.converter,_a(t._query,e))}_parse(t){const e=Bf(t.firestore),n=function(t,e,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ao(so.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){dd(s,o);const e=[];for(const n of s)e.push(fd(r,t,n));a={arrayValue:{values:e}}}else a=fd(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dd(s,o),a=Gf(n,e,s,"in"===o||"not-in"===o);return Ks.create(i,o,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function ld(t,e,n){const r=e,i=id("where",t);return cd._create(i,r,n)}class hd extends sd{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new hd(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Gs.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)pd(n,i),n=_a(n,i)}(t._query,e),new _f(t.firestore,t.converter,_a(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function fd(t,e,n){if("string"==typeof(n=Fe(n))){if(""===n)throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ma(e)&&-1!==n.indexOf("/"))throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=e.path.child(Co.fromString(n));if(!xo.isDocumentKey(r))throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return As(t,new xo(r))}if(n instanceof bf)return As(t,n._key);throw new ao(so.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gf(n),"."))}function dd(t,e){if(!Array.isArray(t)||0===t.length)throw new ao(so.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function pd(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new ao(so.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new ao(so.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class gd{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ls(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ro()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Jo(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertVectorValue(t){var e,n,r;const i=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((t=>ls(t.doubleValue)));return new Lf(i)}convertGeoPoint(t){return new Of(ls(t.latitude),ls(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ds(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ps(t));default:return null}}convertTimestamp(t){const e=cs(t);return new Eo(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Co.fromString(t);io(bc(n));const r=new ms(n.get(1),n.get(3)),i=new xo(n.popFirst(5));return r.isEqual(e)||to("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}function md(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vd extends nd{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(id("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class wd extends vd{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class _d{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new wd(this._firestore,this._userDataWriter,n.key,n,new yd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ao(so.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new wd(t._firestore,t._userDataWriter,n.doc.key,n.doc,new yd(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new wd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:bd(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ro()}}function Ed(t){t=mf(t,bf);const e=mf(t.firestore,Af);return uf(xf(e),t._key).then((n=>Ad(e,t,n)))}class Td extends gd{constructor(t){super(),this.firestore=t}convertBytes(t){return new kf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bf(this.firestore,null,e)}}function Sd(t){t=mf(t,_f);const e=mf(t.firestore,Af),n=xf(e),r=new Td(e);return od(t._query),cf(n,t._query).then((n=>new _d(e,r,t,n)))}function Cd(t,e,n){t=mf(t,bf);const r=mf(t.firestore,Af),i=Bf(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),u=3;u<s;u++)a[u-3]=arguments[u];return o="string"==typeof(e=Fe(e))||e instanceof Rf?Kf(i,"updateDoc",t._key,e,n,a):Hf(i,"updateDoc",t._key,e),Id(r,[o.toMutation(t._key,ou.exists(!0))])}function Id(t,e){return function(t,e){const n=new uo;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=$h(t);try{const t=await function(t,e){const n=oo(t),r=Eo.now(),i=e.reduce(((t,e)=>t.add(e.key)),Ua());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Ra(),u=Ua();return n.hs.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(u=u.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{o=i;const s=[];for(const t of e){const e=hu(t,o.get(t.key).overlayedDocument);null!=e&&s.push(new pu(t.key,e,js(e.value.mapValue),ou.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,s,e)})).next((e=>{s=e;const r=e.applyToLocalDocumentSet(o,u);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:La(o)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qa[t.currentUser.toKey()];r||(r=new ts(_o)),r=r.insert(e,n),t.qa[t.currentUser.toKey()]=r}(r,t.batchId,n),await Kh(r,t.changes),await Gl(r.remoteStore)}catch(t){const e=sh(t,"Failed to persist write");n.reject(e)}}(await sf(t),e,n))),n.promise}(xf(t),e)}function Ad(t,e,n){const r=n.docs.get(e._key),i=new Td(t);return new vd(t,i,e._key,r,new yd(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Xi=t}("11.1.0"),Xn(new Ve("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const o=t.getProvider("app").getImmediate(),s=new Af(new fo(t.getProvider("auth-internal")),new yo(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ao(so.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ms(t.options.projectId,e)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),nr(Qi,"4.7.5",t),nr(Qi,"4.7.5","esm2017")}();const xd=tr({apiKey:"AIzaSyBBKjzh0b8AuBATHG2pPTZV2Hc61kSA3W0",authDomain:"prayerreaderwebapp.firebaseapp.com",projectId:"prayerreaderwebapp",storageBucket:"prayerreaderwebapp.firebasestorage.app",messagingSenderId:"930980741881",appId:"1:930980741881:web:bcde613f74bc7e21c65828",measurementId:"G-P7EZPWFE11"}),Dd=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();t=Fe(t);const e=Yn(t,ni);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Yn(t,ni);if(n.isInitialized()){const t=n.getImmediate();if(Pe(e,n.getOptions()))return t;throw oi.create("already-initialized")}const r=n.initialize({options:e})}(t)}(xd),function(t,e){const n="string"==typeof t?t:e||"(default)",r=Yn("object"==typeof t?t:er(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=Ce("firestore");t&&wf(r,...t)}return r}(xd)),kd=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const t=Tf(Dd,"prayers"),e=(await Sd(t)).docs.map((t=>u({id:t.id},t.data())));n(e)}catch(t){console.error("Error fetching prayers:",t)}})()}),[]),(0,me.jsxs)("div",{className:"prayer-list-container",children:[(0,me.jsx)("h1",{children:"Available Prayers"}),(0,me.jsx)("ul",{className:"prayer-list",children:e.map((t=>(0,me.jsx)("li",{className:"prayer-item",children:(0,me.jsx)(ce,{to:"/prayer/".concat(t.id),className:"prayer-link",children:t.title})},t.id)))})]})},Rd=()=>{const{prayerId:e}=lt(),[n,r]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{const t=Sf(Dd,"prayers",e),n=await Ed(t);n.exists()?r(n.data()):console.error("No such prayer!")}catch(t){console.error("Error fetching prayer:",t)}})()}),[e]),n?(0,me.jsxs)("div",{className:"prayer-detail-container",children:[(0,me.jsx)("h1",{children:n.title}),(0,me.jsx)("div",{className:"prayer-content",children:n.sections.map(((t,e)=>(0,me.jsx)("p",{children:t},e)))}),(0,me.jsxs)("p",{className:"source-url",children:["Source: ",(0,me.jsx)("a",{href:n.sourceUrl,target:"_blank",rel:"noopener noreferrer",children:n.sourceUrl})]})]}):(0,me.jsx)("div",{children:"Loading..."})};var Nd=n(245);const Od=t=>{let{value:e,size:n=128}=t;return(0,me.jsx)("div",{style:{height:n,width:n},children:(0,me.jsx)(Nd.Ay,{value:e,size:n})})},Ld=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),a=ct();(0,t.useEffect)((()=>{(async()=>{try{const t=Tf(Dd,"prayers"),e=(await Sd(t)).docs.map((t=>u({id:t.id},t.data())));n(e)}catch(t){console.error("Error fetching prayers:",t)}})()}),[]);return(0,me.jsxs)("div",{className:"create-session-container",children:[(0,me.jsx)("h1",{children:"Create a New Prayer Session"}),(0,me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r)try{const t=await(async()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e,n=!0;for(;n;){e="";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(62*Math.random()));const r=ud(Tf(Dd,"sessions"),ld("__name__","==",e));(await Sd(r)).empty&&(n=!1)}return e})();s(t),await function(t,e){const n=mf(t.firestore,Af),r=Sf(t),i=md(t.converter,e);return Id(n,[zf(Bf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ou.exists(!1))]).then((()=>r))}(Sf(Dd,"sessions",t),{prayerId:r,participants:[],timestamp:new Date,currentSectionIndex:0,scrollPosition:0}),a("/session/".concat(t))}catch(e){console.error("Error creating session:",e)}else alert("Please select a prayer to create a session.")},className:"create-session-form",children:[(0,me.jsx)("label",{htmlFor:"prayer-select",children:"Select a Prayer:"}),(0,me.jsxs)("select",{id:"prayer-select",value:r,onChange:t=>i(t.target.value),required:!0,children:[(0,me.jsx)("option",{value:"",children:"--Choose a Prayer--"}),e.map((t=>(0,me.jsx)("option",{value:t.id,children:t.title},t.id)))]}),(0,me.jsx)("button",{type:"submit",children:"Start Session"})]}),o&&(0,me.jsxs)("div",{className:"session-details",children:[(0,me.jsx)("h2",{children:"Session Created!"}),(0,me.jsxs)("p",{children:[(0,me.jsx)("strong",{children:"Session ID:"})," ",o]}),(0,me.jsx)("p",{children:(0,me.jsx)("strong",{children:"Share this link:"})}),(0,me.jsx)("a",{href:"".concat(window.location.origin,"/session/").concat(o),target:"_blank",rel:"noopener noreferrer",children:"".concat(window.location.origin,"/session/").concat(o)}),(0,me.jsx)("div",{className:"qr-code",children:(0,me.jsx)(Od,{value:"".concat(window.location.origin,"/session/").concat(o),size:256})})]})]})},Pd=()=>{const[e,n]=(0,t.useState)(""),r=ct();return(0,me.jsxs)("div",{className:"join-session-container",children:[(0,me.jsx)("h1",{children:"Join a Prayer Session"}),(0,me.jsxs)("form",{onSubmit:t=>{t.preventDefault(),5===e.trim().length?r("/session/".concat(e.trim())):alert("Please enter a valid 5-character Session ID.")},className:"join-session-form",children:[(0,me.jsx)("label",{htmlFor:"session-id",children:"Enter Session ID:"}),(0,me.jsx)("input",{type:"text",id:"session-id",value:e,onChange:t=>n(t.target.value),maxLength:5,required:!0,placeholder:"e.g., AbC12"}),(0,me.jsx)("button",{type:"submit",children:"Join Session"})]})]})};var Md=n(536);const jd=()=>{const{sessionId:e}=lt(),n="true"===new URLSearchParams(st().search).get("leader"),[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(null),[a,c]=(0,t.useState)(!1),l=(0,t.useRef)(null),h=(0,t.useRef)(!1);(0,t.useEffect)((()=>{(async()=>{try{const t=Sf(Dd,"sessions",e),r=await Ed(t);if(r.exists()){i(u({id:r.id},r.data()));const t=Sf(Dd,"prayers",r.data().prayerId),e=await Ed(t);e.exists()&&s(e.data()),c(n)}else console.error("Session does not exist.")}catch(t){console.error("Error fetching session or prayer:",t)}})();const t=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o,s;t=Fe(t);let a={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof n[u]||If(n[u])||(a=n[u],u++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(If(n[u])){const t=n[u];n[u]=null===(i=t.next)||void 0===i?void 0:i.bind(t),n[u+1]=null===(o=t.error)||void 0===o?void 0:o.bind(t),n[u+2]=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}let l,h,f;if(t instanceof bf)h=mf(t.firestore,Af),f=pa(t._key.path),l={next:e=>{n[u]&&n[u](Ad(h,t,e))},error:n[u+1],complete:n[u+2]};else{const e=mf(t,_f);h=mf(e.firestore,Af),f=e._query;const r=new Td(h);l={next:t=>{n[u]&&n[u](new _d(h,r,e,t))},error:n[u+1],complete:n[u+2]},od(t._query)}return function(t,e,n,r){const i=new Zh(r),o=new _h(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>dh(await af(t),o))),()=>{i.eu(),t.asyncQueue.enqueueAndForget((async()=>ph(await af(t),o)))}}(xf(h),f,c,l)}(Sf(Dd,"sessions",e),(t=>{t.exists()&&(i(u({id:t.id},t.data())),!a&&l.current&&(h.current=!0,l.current.scrollTop=t.data().scrollPosition,setTimeout((()=>{h.current=!1}),500)))}));return()=>t()}),[e,n,a]);const f=(0,Md.debounce)((async t=>{if(a&&!h.current){const n=t.target.scrollTop,r=Sf(Dd,"sessions",e);await Cd(r,{scrollPosition:n})}}),100);return o&&r?(0,me.jsxs)("div",{className:"session-page-container",children:[(0,me.jsx)("h1",{children:o.title}),a&&(0,me.jsxs)("div",{className:"session-details",children:[(0,me.jsxs)("p",{children:[(0,me.jsx)("strong",{children:"Session ID:"})," ",e]}),(0,me.jsx)("p",{children:(0,me.jsx)("strong",{children:"Share this link:"})}),(0,me.jsx)("a",{href:"".concat(window.location.origin,"/session/").concat(e,"?leader=true"),target:"_blank",rel:"noopener noreferrer",children:"".concat(window.location.origin,"/session/").concat(e,"?leader=true")}),(0,me.jsx)("div",{className:"qr-code",children:(0,me.jsx)(Od,{value:"".concat(window.location.origin,"/session/").concat(e,"?leader=true"),size:128})})]}),(0,me.jsx)("div",{className:"prayer-content",onScroll:f,ref:l,children:o.sections.map(((t,e)=>(0,me.jsx)("p",{className:e===r.currentSectionIndex?"highlight":"",children:t},e)))}),a&&(0,me.jsxs)("div",{className:"controls",children:[(0,me.jsx)("button",{onClick:async()=>{if(r.currentSectionIndex>0){const t=Sf(Dd,"sessions",e);await Cd(t,{currentSectionIndex:r.currentSectionIndex-1})}},disabled:0===r.currentSectionIndex,children:"Previous"}),(0,me.jsx)("button",{onClick:async()=>{if(r.currentSectionIndex<o.sections.length-1){const t=Sf(Dd,"sessions",e);await Cd(t,{currentSectionIndex:r.currentSectionIndex+1})}},disabled:r.currentSectionIndex===o.sections.length-1,children:"Next"})]})]}):(0,me.jsx)("div",{children:"Loading..."})},Fd=()=>{const t="".concat(window.location.origin,"/join-session");return(0,me.jsxs)("footer",{className:"footer",children:[(0,me.jsx)("p",{children:"Join a Prayer Session:"}),(0,me.jsx)(Od,{value:t,size:128})]})};const Vd=()=>(0,me.jsxs)("div",{className:"not-found",children:[(0,me.jsx)("h2",{children:"404 - Page Not Found"}),(0,me.jsx)("p",{children:"The page you're looking for doesn't exist."})]}),Ud=function(){return(0,me.jsxs)(ae,{children:[(0,me.jsx)(ye,{}),(0,me.jsxs)(At,{children:[" ",(0,me.jsx)(Ct,{path:"/",element:(0,me.jsx)(kd,{})})," ",(0,me.jsx)(Ct,{path:"/prayer/:prayerId",element:(0,me.jsx)(Rd,{})}),(0,me.jsx)(Ct,{path:"/create-session",element:(0,me.jsx)(Ld,{})}),(0,me.jsx)(Ct,{path:"/join-session",element:(0,me.jsx)(Pd,{})}),(0,me.jsx)(Ct,{path:"/session/:sessionId",element:(0,me.jsx)(jd,{})}),(0,me.jsx)(Ct,{path:"*",element:(0,me.jsx)(Vd,{})})]}),(0,me.jsx)(Fd,{})]})};e.render((0,me.jsx)(t.StrictMode,{children:(0,me.jsx)(Ud,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.f15fbf4d.js.map